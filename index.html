<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luxury Travel Booking</title>
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Remove SMTPJS, add EmailJS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Edu+VIC+WA+NT+Hand+Pre:wght@400..700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
    <script>
      (function(){
        emailjs.init("xn08SGXs5BF2YhkxP"); // <-- Replace with your EmailJS user ID
      })();
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        .fnt{
            
            font-family: "Oswald", sans-serif;
  font-optical-sizing: auto;
  font-weight: 1313131313px;
  font-style: normal;


        }
        html, body {
          
          
            width: 100vw;
            height: 100vh;
            max-width: 100vw;
            max-height: 100vh;
            inset: 0;
        }

        .luxury-travel-container {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
    background-color: transparent;
    min-height: 100vh;              /* full viewport height */
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;        /* center vertically */
    padding: 2rem 1rem;
}


        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInScale {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        @keyframes rotate {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }

        /* Black pill at top */
        

        /* Logo and tagline */
      
    

        /* Main booking card */
        .booking-card {
            width: 100%;
            max-width: 64rem;
            background-color: #1d1b20;
            border-radius: 1.5rem;
            padding: 7px;
            padding-left: 13px;
            padding-right: 13px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            position: relative;
            animation: fadeInScale 0.5s ease-out 0.2s both;
        }

        /* Main form layout - everything in one row */
        .form-layout {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr auto;
            gap: 1rem;
            align-items: center;
         

        }

        .location-from {
            display: flex;
            flex-direction: column;
            height: 75%;
        }

        .location-to {
            display: flex;
            flex-direction: column;
            height: 75%;
        }

        .datetime-section {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            height: 100%;
            justify-content: center;
        }

        .right-controls {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            min-width: 120px;
        }

        /* Location fields - individual styling */
        .location-field {
            position: relative;
        }

        /* Location inputs - back to original large styling */
        .location-input {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: #000;
            border: none;
            padding: 2rem 1.5rem;
            cursor: pointer;
            position: relative;
            border-radius: 1rem;
            min-height: 120px;
            border-bottom: 1px solid #4b5563;
        }

        .location-text {
            color: white;
            font-size: 0.5rem;
            font-weight: 300;
            text-align: center;
            width: 100%;
        }

        /* Original datetime styling updated to match new design */
        .datetime-section {
            
        }

        .datetime-row {
            background-color: #2c2c2c;
            border-radius: 0.75rem;
            padding: 0.25rem;
            box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.25);
            margin-bottom: 0.5rem;
            min-height: 60px;
        }

        .datetime-container {
            display: grid;
            grid-template-columns: 1fr min-content 1fr;
            align-items: center;
            height: 100%;
        }

        .datetime-button {
            width: 100%;
            min-width: 0;
            padding: 0.75rem 1rem;
            background: none;
            border: none;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            gap: 0.75rem;
            color: white;
            cursor: pointer;
            transition: background-color 0.2s ease;
            border-radius: 0.75rem;
        }

        .datetime-button:hover {
            background-color: #3a3a3a;
        }

        .datetime-button:first-child {
            border-radius: 0.75rem 0 0 0.75rem;
        }

        .datetime-button:last-child {
            border-radius: 0 0.75rem 0.75rem 0;
        }

        .datetime-icon {
            width: 1.25rem;
            height: 1.25rem;
            color: #ffae00;
            flex-shrink: 0;
            align-self: flex-start;
            margin-top: 0.1rem;
        }

        .datetime-text {
            font-size: 1rem;
            font-weight: 500;
            color: white;
            letter-spacing: 0.3px;
            text-align: left;
            line-height: 1.1;
            white-space: pre-line;
            flex: 1;
        }

        .datetime-text.time-display {
            white-space: nowrap;
            font-size: 1.125rem;
            align-self: center;
        }

        .datetime-divider {
            color: #6b7280;
            display: flex;
            align-items: center;
            padding: 0 0.75rem;
            font-size: 1.25rem;
            font-weight: 300;
            flex-shrink: 0;
            justify-self: center;
        }

        /* Calendar styles */
        .calendar-modal {
            position: fixed !important;
            top: 50% !important;
            left: 50% !important;
            transform: translate(-50%, -50%) !important;
            margin: 0 !important;
            z-index: 1000 !important;
            background-color: #1d1b20;
            border: 1px solid #4b5563;
            border-radius: 0.75rem;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            padding: 0.5rem;
            width: 20rem;
            opacity: 0;
            transform: translateX(-50%) translateY(20px);
            transition: all 0.2s ease;
            pointer-events: none;
        }

        .calendar-modal.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
            pointer-events: all;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .calendar-title-section {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .calendar-icon {
            width: 1.25rem;
            height: 1.25rem;
            color: #ffae00;
        }

        .calendar-title {
            color: white;
            font-weight: 500;
        }

        .calendar-nav {
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .calendar-nav-btn {
            width: 2rem;
            height: 2rem;
            border-radius: 9999px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            background: none;
            border: none;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .calendar-nav-btn:hover {
            background-color: #3a3a3a;
            transform: scale(1.1);
        }

        .calendar-nav-icon {
            width: 1.25rem;
            height: 1.25rem;
        }

        .calendar-month-year {
            text-align: center;
            margin-bottom: 1rem;
        }

        .calendar-month-text {
            font-size: 1.25rem;
            font-weight: 300;
            color: white;
        }

        .calendar-grid {
            margin-top: 1rem;
        }

        .calendar-weekdays {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            margin-bottom: 0.5rem;
        }

        .calendar-weekday {
            text-align: center;
            font-size: 0.75rem;
            font-weight: 500;
            color: #9ca3af;
        }

        .calendar-days {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 0.25rem;
            margin-bottom: 0.25rem;
        }

        .calendar-day {
            height: 2.5rem;
            width: 2.5rem;
            border-radius: 9999px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.875rem;
            transition: all 0.2s ease;
            border: none;
            background: none;
            cursor: pointer;
            color: white;
        }

        .calendar-day.selected {
            background-color: #ffae00;
            color: black;
            font-weight: 500;
        }

        .calendar-day.today {
            background-color: #3a3a3a;
            color: white;
        }

        .calendar-day.disabled {
            color: #6b7280;
            opacity: 0.5;
            cursor: not-allowed;
        }

        .calendar-day:not(.disabled):not(.selected):hover {
            background-color: #3a3a3a;
            color: white;
            transform: scale(1.1);
        }

        .calendar-footer {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid #4b5563;
            display: flex;
            justify-content: space-between;
        }

        .calendar-today-btn {
            color: #ffae00;
            font-size: 0.875rem;
            font-weight: 500;
            background: none;
            border: none;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .calendar-today-btn:hover {
            transform: scale(1.02);
        }

        .calendar-cancel-btn {
            color: #9ca3af;
            font-size: 0.875rem;
            background: none;
            border: none;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .calendar-cancel-btn:hover {
            transform: scale(1.02);
        }

        /* Time picker styles */
        .time-modal {
            position: fixed !important;
            top: 50% !important;
            left: 50% !important;
            transform: translate(-50%, -50%) !important;
            margin: 0 !important;
            z-index: 1000 !important;
            background-color: #1d1b20;
            border: 1px solid #4b5563;
            border-radius: 0.75rem;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            padding: 1rem;
            width: 20rem;
            opacity: 0;
            transform: translateX(-50%) translateY(20px);
            transition: all 0.2s ease;
            pointer-events: none;
        }

        .time-modal.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
            pointer-events: all;
        }

        .time-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .time-title-section {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .time-icon {
            width: 1.25rem;
            height: 1.25rem;
            color: #ffae00;
        }

        .time-title {
            color: white;
            font-weight: 500;
        }

        .time-view-text {
            color: #9ca3af;
            font-size: 0.875rem;
        }

        .time-display {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .time-display-container {
            display: flex;
            align-items: center;
        }

        .time-part-btn {
            font-size: 2.25rem;
            font-weight: 300;
            padding: 0.5rem;
            border-radius: 0.5rem;
            background: none;
            border: none;
            cursor: pointer;
            transition: all 0.2s ease;
            color: white;
        }

        .time-part-btn.active {
            color: #ffae00;
            background-color: rgba(255, 174, 0, 0.1);
        }

        .time-part-btn:not(.active) {
            color: white;
        }

        .time-part-btn:hover:not(.active) {
            transform: scale(1.05);
            background-color: rgba(255, 255, 255, 0.1);
        }

        .time-separator {
            font-size: 2.25rem;
            font-weight: 300;
            color: white;
            margin: 0 0.25rem;
        }

        .time-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .time-option-btn {
            height: 3.5rem;
            width: 3.5rem;
            border-radius: 9999px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: none;
            cursor: pointer;
            transition: all 0.2s ease;
            color: white;
            background-color: #2c2c2c;
        }

        .time-option-btn.selected {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            color: black;
            font-weight: 500;
        }

        .time-option-btn:not(.selected) {
            background-color: #2c2c2c;
            color: white;
        }

        .time-option-btn:not(.selected):hover {
            background-color: #3a3a3a;
            transform: scale(1.1);
        }

        .time-period-grid {
            display: flex;
            justify-content: center;
            gap: 1rem;
        }

        .time-period-btn {
            height: 3.5rem;
            width: 6rem;
            border-radius: 0.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
            border: none;
            cursor: pointer;
            transition: all 0.2s ease;
            color: white;
            background-color: #2c2c2c;
        }

        .time-period-btn.selected {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            color: black;
            font-weight: 500;
        }

        .time-period-btn:not(.selected) {
            background-color: #2c2c2c;
            color: white;
        }

        .time-period-btn:not(.selected):hover {
            background-color: #3a3a3a;
            transform: scale(1.05);
        }

        .time-footer {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid #4b5563;
            display: flex;
            justify-content: space-between;
        }

        .time-cancel-btn {
            color: #9ca3af;
            font-size: 0.875rem;
            background: none;
            border: none;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .time-cancel-btn:hover {
            transform: scale(1.02);
            color: white;
        }

        .time-apply-btn {
            background: linear-gradient(to right, #f59e0b, #d97706);
            color: black;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            display: flex;
            align-items: center;
            gap: 0.25rem;
            font-size: 0.875rem;
            font-weight: 500;
            border: none;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .time-apply-btn:hover {
            transform: scale(1.02);
        }

        .time-apply-icon {
            width: 1rem;
            height: 1rem;
        }

        /* Right controls styling */
        .control-button {
            background-color: #2c2c2c;
            border-radius: 0.5rem;
            padding: 0.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            border: none;
            cursor: pointer;
            transition: all 0.2s ease;
            color: white;
            position: relative;
            min-height: 50px;
            font-size: 0.9rem;
            font-weight: 500;
            width: 100%;
        }

        .control-button:hover {
            transform: scale(1.02);
            background-color: #3a3a3a;
        }

        .control-button .category-icon {
            width: 1rem;
            height: 1rem;
            color: #ffae00;
        }

        .control-button .category-count {
            font-weight: 500;
            font-size: 0.9rem;
        }

        .control-button .category-text {
            font-size: 0.9rem;
            font-weight: 500;
        }

        /* Enhanced search button styling */
        .search-button {
            background-color: #2c2c2c;
            color: white;
            border-radius: 0.5rem;
            padding: 0.875rem 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            font-weight: 600;
            font-size: 1rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            border: none;
            cursor: pointer;
            transition: all 0.2s ease;
            animation: fadeInUp 0.5s ease-out 0.7s both;
            margin: 0 ;
            max-width: 200px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .search-button:hover {
            transform: scale(1.02);
            background-color: #3a3a3a;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        }

        .search-icon {
            width: 1.125rem;
            height: 1.125rem;
        }

        /* Swap button positioning - between from and to */
        .swap-button {
            position: absolute;
            left: 100%;
            top: 50%;
            transform: translateY(-50%) translateX(0.5rem) rotate(90deg);
            z-index: 20;
            border-radius: 9999px;
            background-color: #ffae00;
            padding: 0.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            border: none;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .swap-button:hover {
            transform: translateY(-50%) translateX(0.5rem) rotate(270deg) scale(1.1);
        }

        /* Category buttons row */
        .category-row {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 0.75rem;
        }

        .category-compact {
            background-color: #2c2c2c;
            border-radius: 0.75rem;
            padding: 0.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            border: none;
            cursor: pointer;
            transition: all 0.2s ease;
            color: white;
            position: relative;
        }

        .category-compact:hover {
            transform: scale(1.02);
            background-color: #3a3a3a;
        }

        .category-compact .category-icon {
            width: 1.25rem;
            height: 1.25rem;
            color: #ffae00;
        }

        .category-compact .category-count {
            font-weight: 500;
        }

        /* Gold accent lines */
        .gold-accent-top {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 8rem;
            height: 0.25rem;
            background: linear-gradient(to right, #fbbf24, #eab308, #fbbf24);
            border-radius: 0 0 9999px 9999px;
        }

        .gold-accent-bottom {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 8rem;
            height: 0.25rem;
            background: linear-gradient(to right, #fbbf24, #eab308, #fbbf24);
            border-radius: 9999px 9999px 0 0;
        }

        /* Trip type selector */
        .trip-type-selector {
            background-color: #2c2c2c;
            border-radius: 9999px;
            padding: 0.25rem;
            display: flex;
            margin-top: 1.5rem;
            position: relative;
            box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.25);
        }

        .trip-type-indicator {
            position: absolute;
            top: 0.25rem;
            bottom: 0.25rem;
            border-radius: 9999px;
            background-color: rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            width: calc(50% - 0.25rem);
        }

        .trip-type-indicator.round-trip {
            left: calc(50% + 0.125rem);
        }

        .trip-type-indicator.one-way {
            left: 0.25rem;
        }

        .trip-type-btn {
            flex: 1;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            background: transparent;
            border: none;
            font-weight: 500;
            z-index: 10;
            position: relative;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .trip-type-btn.active {
            color: #ffae00;
        }

        .trip-type-btn:not(.active) {
            color: white;
        }

        .trip-divider {
            color: white;
            display: flex;
            align-items: center;
            padding: 0 0.5rem;
            z-index: 10;
        }

        /* Location fields */
        .location-section {
            position: relative;
            margin-bottom: 1.5rem;
        }

        .location-field {
            margin-bottom: 1.5rem;
            position: relative;
        }

        .location-label {
            color: #9ca3af;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.25rem;
            font-size: 0.875rem;
            font-weight: 500;
        }

        .location-input {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: transparent;
            border-bottom: 1px solid #4b5563;
            padding-bottom: 0.5rem;
            cursor: pointer;
            position: relative;
        }

        .location-text {
            color: white;
            font-size: 2.25rem;
            font-weight: 300;
        }

        .chevron-icon {
            color: white;
            width: 1.5rem;
            height: 1.5rem;
        }

        /* Swap button */
        .swap-button {
            position: absolute;
            left: 100%;
            top: 50%;
            transform: translateY(-50%) translateX(0.5rem) rotate(90deg);
            z-index: 20;
            border-radius: 9999px;
            background-color: #ffae00;
            padding: 0.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            border: none;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .swap-button:hover {
            transform: translateY(-50%) translateX(0.5rem) rotate(270deg) scale(1.1);
        }

        /* Dropdown */
        .dropdown {
            position: absolute;
            z-index: 30;
            margin-top: 0.25rem;
            width: 100%;
            background-color: #2c2c2c;
            border-radius: 0.75rem;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            max-height: 15rem;
      
            opacity: 0;
            transform: translateY(-10px);
            transition: all 0.2s ease;
            pointer-events: none;
        }

        .dropdown.show {
            opacity: 1;
            transform: translateY(0);
            pointer-events: all;
        }

        .dropdown-header {
            position: sticky;
            top: 0;
            background-color: #2c2c2c;
            padding: 0.5rem;
            border-bottom: 1px solid #4b5563;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .dropdown-title {
            color: white;
            font-weight: 500;
        }

        .dropdown-close {
            color: #9ca3af;
            background: none;
            border: none;
            cursor: pointer;
            padding: 0.25rem;
        }

        .dropdown-close:hover {
            color: white;
        }

        .dropdown-item {
            padding: 0.75rem 1rem;
            cursor: pointer;
            color: white;
            transition: background-color 0.2s ease;
        }

        .dropdown-item:hover {
            background-color: #3a3a3a;
        }

        .dropdown-item.selected {
            background-color: #3a3a3a;
        }

        .dropdown-item-city {
            font-weight: 500;
        }

        .dropdown-item.selected .dropdown-item-city {
            color: #ffae00;
        }

        .dropdown-item-country {
            font-size: 0.75rem;
            color: #9ca3af;
        }

        .dropdown-item-code {
            font-size: 0.875rem;
            font-family: monospace;
            color: #9ca3af;
        }

        .dropdown-item-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* Date and time selector */
        .datetime-section {
            margin-bottom: 1.5rem;
        }

        .datetime-row {
            background-color: #2c2c2c;
            border-radius: 0.75rem;
            padding: 0.25rem;
            box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.25);
            margin-bottom: 0.5rem;
            min-height: 60px;
        }

        .datetime-container {
            display: grid;
            grid-template-columns: 1fr min-content 1fr;
            align-items: center;
            height: 100%;
        }

        .datetime-button {
            width: 100%;
            min-width: 0;
            padding: 0.75rem 1rem;
            background: none;
            border: none;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            gap: 0.75rem;
            color: white;
            cursor: pointer;
            transition: background-color 0.2s ease;
            border-radius: 0.75rem;
        }

        .datetime-button:hover {
            background-color: #3a3a3a;
        }

        .datetime-button:first-child {
            border-radius: 0.75rem 0 0 0.75rem;
        }

        .datetime-button:last-child {
            border-radius: 0 0.75rem 0.75rem 0;
        }

        .datetime-icon {
            width: 1.25rem;
            height: 1.25rem;
            color: #ffae00;
            flex-shrink: 0;
            align-self: flex-start;
            margin-top: 0.1rem;
        }

        .datetime-text {
            font-size: 1rem;
            font-weight: 500;
            color: white;
            letter-spacing: 0.3px;
            text-align: left;
            line-height: 1.1;
            white-space: pre-line;
            flex: 1;
        }

        .datetime-text.time-display {
            white-space: nowrap;
            font-size: 1.125rem;
            align-self: center;
        }

        .datetime-divider {
            color: #6b7280;
            display: flex;
            align-items: center;
            padding: 0 0.75rem;
            font-size: 1.25rem;
            font-weight: 300;
            flex-shrink: 0;
            justify-self: center;
        }

        .category-button {
            flex: 1;
            background-color: black;
            border-radius: 0.75rem;
            padding: 0.75rem 1rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            border: none;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .category-button:hover {
            transform: scale(1.02);
        }

        .category-content {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .category-icon {
            color: #ffae00;
            width: 1.25rem;
            height: 1.25rem;
        }

        .category-count {
            color: white;
        }

        .category-chevron {
            color: #9ca3af;
            width: 1rem;
            height: 1rem;
        }

        /* Category menu */
        .category-menu {
            position: fixed !important;
            top: 50% !important;
            left: 50% !important;
            transform: translate(-50%, -50%) !important;
            margin: 0 !important;
            z-index: 1000 !important;
            width: 18rem;
            background-color: #2c2c2c;
            border-radius: 0.75rem;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            border: 1px solid #4b5563;
            opacity: 0;
            transition: all 0.2s ease;
            pointer-events: none;
        }
        .category-menu.show {
            opacity: 1;
            pointer-events: all;
        }

        .category-menu-header {
            padding: 0.75rem;
            border-bottom: 1px solid #4b5563;
        }

        .category-menu-title {
            color: white;
            font-weight: 500;
        }

        .category-menu-content {
            padding: 1rem;
        }

        .category-selector {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.75rem 0;
            border-bottom: 1px solid #4b5563;
        }

        .category-selector:last-child {
            border-bottom: none;
        }

        .category-selector-info {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .category-selector-icon {
            background-color: #1d1b20;
            padding: 0.5rem;
            border-radius: 9999px;
        }

        .category-selector-icon svg {
            width: 1.5rem;
            height: 1.5rem;
            color: #ffae00;
        }

        .category-selector-text {
            color: white;
            font-weight: 500;
        }

        .category-selector-desc {
            font-size: 0.75rem;
            color: #9ca3af;
        }

        .category-selector-controls {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .category-control-btn {
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 9999px;
            background-color: #1d1b20;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.25rem;
            border: none;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .category-control-btn:hover {
            transform: scale(1.1);
        }

        .category-control-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .category-count-display {
            color: white;
            font-size: 1.25rem;
            width: 1.25rem;
            text-align: center;
        }

        .category-apply-btn {
            background: linear-gradient(to right, #f59e0b, #d97706);
            color: black;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 500;
            border: none;
            cursor: pointer;
            transition: transform 0.2s ease;
            margin-top: 0.5rem;
            float: right;
        }

        .category-apply-btn:hover {
            transform: scale(1.05);
        }

        

        /* Utility classes */
        .clearfix::after {
            content: "";
            display: table;
            clear: both;
        }

        .hidden {
            display: none !important;
        }

        /* Responsive design */
        @media (max-width: 1024px) {
            .form-layout {
                grid-template-columns: 1fr 1fr;
                grid-template-rows: auto auto auto;
                gap: 1rem;
                margin-bottom: 1.5rem;
            }
            
            .location-from {
                grid-column: 1;
                grid-row: 1;
            }
            
            .location-to {
                grid-column: 2;
                grid-row: 1;
            }
            
            .datetime-section {
                grid-column: 1 / -1;
                grid-row: 2;
            }
            
            .right-controls {
                grid-column: 1 / -1;
                grid-row: 3;
                flex-direction: row;
                justify-content: space-between;
                min-width: auto;
            }
            
            .swap-button {
                right: -0.5rem;
                top: 50%;
                transform: translateY(-50%) rotate(90deg);
            }
            
            .location-text {
                font-size: 2rem;
            }

            .calendar-modal, .time-modal {
                width: 18rem;
                left: 50%;
                right: auto;
                transform: translateX(-50%);
            }

            .calendar-modal.show, .time-modal.show {
                transform: translateX(-50%) translateY(0);
            }

            .search-button {
                max-width: 300px;
            }
        }

        @media (max-width: 640px) {
            .luxury-travel-container {
                padding: 1rem 0.5rem;
            }

            .booking-card {
                max-width: 100%;
                padding: 1rem;
            }

        

            .form-layout {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto auto auto;
                gap: 1rem;
                margin-bottom: 1rem;
            }
            
            .location-from {
                grid-column: 1;
                grid-row: 1;
            }
            
            .location-to {
                grid-column: 1;
                grid-row: 2;
            }
            
            .datetime-section {
                grid-column: 1;
                grid-row: 3;
            }
            
            .right-controls {
                grid-column: 1;
                grid-row: 4;
                flex-direction: column;
                gap: 0.5rem;
            }

            .location-text {
                font-size: 1.5rem;
            }

            .location-input {
                padding: 1.5rem 1rem;
                min-height: 100px;
            }

            .swap-button {
                right: 50%;
                top: auto;
                bottom: -0.75rem;
                transform: translateX(50%) rotate(0deg);
            }

            .datetime-button {
                padding: 0.75rem 1rem !important;
                min-height: 50px !important;
                gap: 0.5rem !important;
            }

            .datetime-icon {
                width: 1.25rem !important;
                height: 1.25rem !important;
            }

            .datetime-divider {
                padding: 0 0.5rem !important;
                font-size: 1rem !important;
            }

            .time-modal {
                width: calc(100vw - 2rem) !important;
                max-width: 18rem !important;
            }

            .time-part-btn {
                font-size: 1.875rem !important;
                padding: 0.375rem !important;
            }

            .time-option-btn {
                height: 3rem !important;
                width: 3rem !important;
                font-size: 0.875rem !important;
            }

            .time-period-btn {
                height: 3rem !important;
                width: 5rem !important;
                font-size: 0.875rem !important;
            }

            .search-button {
                max-width: 100%;
                font-size: 1.125rem;
                padding: 0.875rem 1.5rem;
            }

            .calendar-modal,
            .time-modal {
                width: calc(100vw - 2rem);
                max-width: 18rem;
                left: 50%;
                right: auto;
                transform: translateX(-50%);
            }

            .calendar-modal.show, .time-modal.show {
                transform: translateX(-50%) translateY(0);
            }
        }

        .swap-button .lucide[data-lucide="repeat"], .swap-button [data-lucide="repeat"] {
            color: #fff !important;
            transform: rotate(90deg);
            transition: transform 0.2s;
        }

        #multiLegStack {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin : 0;
            justify-content: center;
            width: 100%;
            min-height: 0;      /* Remove or set to 0 */
    margin: 0; 
        }
        #multiLegStack:empty {
    display: none;      /* Hide if empty */
}
        .multi-leg-card {
         
            max-width: 64rem;
            width: 100%;
            box-sizing: border-box;
            padding: 0;
            margin: 0 ;
        }
        .multi-leg-card .form-layout {
            display: grid !important;
            grid-template-columns: 1fr 1fr 1fr auto !important;
            max-width: 64rem;
            margin: 0 ;
            width: 100%;
            box-sizing: border-box;
            gap: 1rem;
            align-items: center;
        }
        .multi-leg-card .form-layout > * {
            width: 100%;
            min-width: 0;
            box-sizing: border-box;
        }
        .multi-leg-card .right-controls {
            min-width: 120px;
            width: 100%;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            align-items: stretch;
        }
        @media (max-width: 900px) {
            .multi-leg-card .form-layout {
                grid-template-columns: 1fr 1fr !important;
                max-width: 100%;
            }
        }

        @media (max-width: 600px) {
            .multi-leg-card .form-layout {
                grid-template-columns: 1fr !important;
                max-width: 100%;
            }
        }
        .airport-autocomplete-dropdown {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  background: #000; /* Changed to black */
  border: 1px solid #ddd;
  border-radius: 4px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  z-index: 1000;
  max-height: 300px;
  overflow-y: auto;
  margin-top: 4px;
}

.airport-autocomplete-item {
  padding: 0.75rem 1.25rem;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid #3333;
  color: #fff; /* Text color white */
  background: none;
  font-size: 1rem;
  transition: background 0.15s, color 0.15s;
}

.airport-autocomplete-item:last-child {
  border-bottom: none;
}

.airport-autocomplete-item:hover {
  background: #fff; /* Hover background white */
  color: #000 !important; /* Hover text black */
}

/* Add custom scrollbar styles */
.airport-autocomplete-dropdown::-webkit-scrollbar {
  width: 8px;
}

.airport-autocomplete-dropdown::-webkit-scrollbar-track {
  background: #f1f1f1;
  border-radius: 4px;
}

.airport-autocomplete-dropdown::-webkit-scrollbar-thumb {
  background: #888;
  border-radius: 4px;
}

.airport-autocomplete-dropdown::-webkit-scrollbar-thumb:hover {
  background: #555;
}
.airport-autocomplete-item {
    padding: 0.75rem 1.25rem;
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #3333;
    color: #fff;
    background: none;
    font-size: 1rem;
    transition: background 0.15s;
}
.airport-autocomplete-item:hover {
    background: #333;
}
.location-input { position: relative; }
        /* Add this CSS to center the form-layout when in multi-leg mode */
        .booking-card.center-multi-leg {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 0; 
            justify-content: center;
            min-height: 500px;
        }
        .booking-card.center-multi-leg .form-layout {
            margin: 0 auto;
        }
        
                /* New Aircraft Menu Styles */
                #aircraftMenu {
             display: none; 
             position: fixed; 
             top: 0; 
             left: 0; 
             width: 100%; 
             height: 100%; 
             background: rgba(0,0,0,0.8); 
             z-index: 1001; 
             align-items: center; 
             justify-content: center; 
             padding: 1rem;
             backdrop-filter: blur(5px);
         }
         #aircraftMenuContent {
             background: #1d1b20; 
             color: white; 
             padding: 2rem; 
             border-radius: 1.5rem; 
             max-width: 950px; 
             width: 100%; 
             position: relative; 
             max-height: 90vh; 
             overflow-y: auto;
             border: 1px solid #4b5563;
         }
         #closeAircraftMenuBtn {
             position: absolute; 
             top: 1rem; 
             right: 1.5rem; 
             background: none; 
             border: none; 
             color: white; 
             font-size: 2rem; 
             cursor: pointer;
             line-height: 1;
             transition: transform 0.2s;
         }
         #closeAircraftMenuBtn:hover {
             transform: scale(1.1);
             color: #ffae00;
         }
         .aircraft-item {
             display: grid;
             grid-template-columns: 2fr 1fr 1fr;
             gap: 1.5rem;
             align-items: center;
             padding: 1rem 0;
             border-bottom: 1px solid #4b5563;
         }
         .aircraft-item:last-child {
             border-bottom: none;
         }
         .aircraft-images {
             display: grid;
             grid-template-columns: 1fr 1fr;
             gap: 1rem;
         }
         .aircraft-images img {
             width: 100%;
             border-radius: 0.75rem;
             object-fit: cover;
             aspect-ratio: 4 / 3;
         }
         .aircraft-details h3 {
             font-size: 1.25rem;
             margin-bottom: 0.5rem;
             color: #ffae00;
         }
         .aircraft-details p {
             margin-bottom: 0.25rem;
             display: flex;
             align-items: center;
             gap: 0.5rem;
         }
         .aircraft-price-box {
             background-color: #2c2c2c;
             border-radius: 0.75rem;
             padding: 1rem;
             text-align: center;
         }
         .aircraft-price-box p {
             font-size: 1.25rem;
             font-weight: bold;
             margin-bottom: 0.5rem;
         }
         .aircraft-price-box .inquire-btn {
             background: linear-gradient(to right, #f59e0b, #d97706);
             color: black;
             padding: 0.5rem 1.5rem;
             border-radius: 9999px;
             border: none;
             font-weight: 500;
             cursor: pointer;
            transition: transform 0.2s;
             width: 100%;
             margin-bottom: 0.5rem;
         }
         .aircraft-price-box .inquire-btn:hover {
             transform: scale(1.05);
         }
         .aircraft-price-box small {
             font-size: 0.75rem;
             color: #9ca3af;
         }
 
         @media (max-width: 768px) {
             .aircraft-item {
                 grid-template-columns: 1fr;
             }
             .aircraft-price-box {
                 grid-row: 2;
             }
             .aircraft-details {
                 grid-row: 3;
                 text-align: center;
             }
             .aircraft-details p {
                 justify-content: center;
             }
         }
         
#contactModalOverlay{
  position: fixed;
  inset: 0;
  display: none;
  place-items: center;
  padding: clamp(12px,3vw,24px);
  background: rgba(0,0,0,.75);
  backdrop-filter: blur(3px);
  z-index: 2001;
}
#contactModalOverlay.show{ display: grid; }

#contactModalOverlay.show{ display: grid; }

#contactStep.contact-modal{
  position: relative;
  margin: 0;
  width: min(720px,96vw);
  max-height: 90dvh;
  overflow: auto;
  background: #1d1b20;
  border: 1px solid #4b5563;
  border-radius: 16px;
  padding: 20px;
  color: #eee;
  box-shadow: 0 25px 50px -12px rgba(0,0,0,.35);
  z-index: 2002;
  box-sizing: border-box;
}


#closeContactModalBtn{
  position: absolute;
  top: 10px;
  right: 12px;
  background: transparent;
  border: 0;
  color: #ddd;
  font-size: 24px;
  cursor: pointer;
  line-height: 1;
  transition: transform .2s;
  z-index: 2003;
}
#closeContactModalBtn:hover{ color:#ffae00; transform: scale(1.05); }

#closeContactModalBtn:hover { color: #ffae00; transform: scale(1.1); }
    

/* Contact form inputs */
#contactForm input,
#contactForm select,
#contactForm textarea{
  width: 100%;
  padding: 12px 14px;
  border-radius: 12px;
  border: 1px solid #2a2a2a;
  background: #1a1a1a;
  color: #eee;
  box-sizing: border-box;
}
#contactForm textarea{ min-height: 120px; resize: vertical; }
#contactForm input:focus, #contactForm select:focus, #contactForm textarea:focus{
  outline: none;
  border-color: #caa33a;
  box-shadow: 0 0 0 3px rgba(202,163,58,.25);
}
/* phone row responsive */
#contactForm .phone-row{
  display: grid !important;
  grid-template-columns: 1.1fr 2fr;
  gap: 12px;
}
@media (max-width: 480px){
  #contactForm .phone-row{ grid-template-columns: 1fr; }
}



#contactStep.contact-modal{ display: flex !important; flex-direction: column; }
#contactForm{ flex: 1 1 auto; min-height: 0; overflow: auto; }
#contactForm .button-row{ position: sticky; bottom: 0; padding-top: 10px; background: linear-gradient(180deg, rgba(29,27,32,0), rgba(29,27,32,0.85) 40%, rgba(29,27,32,0.98)); }

</style>
</head>
<body>
    <div class="luxury-travel-container">
        <div style="text-align:center; margin-bottom:1rem;">
            
        </div>
        <!-- Black pill at top -->
        <div class="top-pill"></div>

        <!-- Logo and Tagline -->
       
        <!-- Main Booking Card -->
        <div class="booking-card">
            <!-- Gold accent line at top -->
            <div class="gold-accent-top"></div>

            <!-- Trip Type Selector -->
            <div class="trip-type-selector">
                <div class="trip-type-indicator one-way" id="tripTypeIndicator"></div>
                <button class="trip-type-btn active" id="oneWayBtn" onclick="setTripType('one-way')">One Way</button>
                <div class="trip-divider">|</div>
                <button class="trip-type-btn" id="roundTripBtn" onclick="setTripType('round-trip')">Round Trip</button>
                <div class="trip-divider">|</div>
                <button class="trip-type-btn" id="multiLegBtn" onclick="setTripType('multi-leg')">Multi Leg</button>
                <div class="trip-divider">|</div>
                <button class="trip-type-btn" id="emptyLegBtn" onclick="setTripType('empty-leg')">Empty Leg</button>
            </div>

            <!-- Main Form Layout -->
            <div class="form-layout">
               <!-- From Location -->
    <div class="location-from">
        <div class="location-field">
            <label class="location-label">
                <span>From</span>
                <i data-lucide="plane-takeoff" class="category-icon"></i>
            </label>
            <div class="location-input">
                <input id="fromLocationInput" class="location-text" type="text" value="" placeholder="Search city or airport..." style="width:100%;background:transparent;border:none;outline:none;color:white;font-size:2rem;text-align:center;" />
            </div>

                        <div class="dropdown" id="fromDropdown">
                            <div class="dropdown-header">
                                <span class="dropdown-title">Select Origin</span>
                                <button class="dropdown-close" id="fromDropdownClose" onclick="closeDropdown('from')">
                                    <i data-lucide="times" class="category-icon"></i>
                                </button>
                            </div>
                            <div id="fromDestinations"></div>
                        </div>

                        <button class="swap-button" id="swapBtn" onclick="swapLocations()">
                            <i data-lucide="repeat" class="category-icon"></i>
                        </button>
                    </div>
                </div>

    <div class="location-to">
        <div class="location-field">
            <label class="location-label">
                <span>To</span>
                <i data-lucide="plane-landing" class="category-icon"></i>
            </label>
            <div class="location-input">
                <input id="toLocationInput" class="location-text" type="text" value="" placeholder="Search city or airport..." style="width:100%;background:transparent;border:none;outline:none;color:white;font-size:2rem;text-align:center;" />
            </div>

                        <div class="dropdown" id="toDropdown">
                            <div class="dropdown-header">
                                <span class="dropdown-title">Select Destination</span>
                                <button class="dropdown-close" id="toDropdownClose" onclick="closeDropdown('to')">
                                    <i data-lucide="times" class="category-icon"></i>
                                </button>
                            </div>
                            <div id="toDestinations"></div>
                        </div>
                    </div>
                </div>

                <div class="datetime-section">
                    <div class="datetime-row">
                        <div class="datetime-container">
                            <div style="position: relative; flex: 1;">
                                <button class="datetime-button" id="departureDateBtn" onclick="openCalendar('departure')">
                                    <i data-lucide="calendar" class="datetime-icon"></i>
                                    <span class="datetime-text" id="departureDateText">Dec 6
2024</span>
                                </button>
                                <div class="calendar-modal" id="departureCalendar">
                                    <div class="calendar-header">
                                        <div class="calendar-title-section">
                                            <i data-lucide="calendar" class="calendar-icon"></i>
                                            <h3 class="calendar-title">Select Date</h3>
                                        </div>
                                        <div class="calendar-nav">
                                            <button class="calendar-nav-btn" id="prevMonthBtn" onclick="changeMonth(-1, 'departure')">
                                                <i data-lucide="chevron-left" class="calendar-nav-icon"></i>
                                            </button>
                                            <button class="calendar-nav-btn" id="nextMonthBtn" onclick="changeMonth(1, 'departure')">
                                                <i data-lucide="chevron-right" class="calendar-nav-icon"></i>
                                            </button>
                                        </div>
                                    </div>
    
                                    <div class="calendar-month-year">
                                        <div class="calendar-month-text" id="calendarMonthYear">December 2024</div>
                                    </div>
    
                                    <div class="calendar-grid">
                                        <div class="calendar-weekdays">
                                            <div class="calendar-weekday">S</div>
                                            <div class="calendar-weekday">M</div>
                                            <div class="calendar-weekday">T</div>
                                            <div class="calendar-weekday">W</div>
                                            <div class="calendar-weekday">T</div>
                                            <div class="calendar-weekday">F</div>
                                            <div class="calendar-weekday">S</div>
                                        </div>
                                        <div id="calendarDays"></div>
                                    </div>
    
                                    <div class="calendar-footer">
                                        <button class="calendar-today-btn" id="todayBtn" onclick="selectToday('departure')">Today</button>
                                        <button class="calendar-cancel-btn" id="calendarCancelBtn" onclick="closeCalendar('departure')">Cancel</button>
                                    </div>
                                </div>
                            </div>
    
                            <div class="datetime-divider">|</div>
    
                            <div style="position: relative; flex: 1;">
                                <button class="datetime-button" id="departureTimeBtn" onclick="openTimePicker('departure')">
                                    <i data-lucide="clock" class="datetime-icon"></i>
                                    <span class="datetime-text time-display" id="departureTimeText">12:00 PM</span>
                                </button>
    
                                <div class="time-modal" id="departureTime">
                                    <div class="time-header">
                                        <div class="time-title-section">
                                            <i data-lucide="clock" class="time-icon"></i>
                                            <h3 class="time-title">Select Time</h3>
                                        </div>
                                        <div class="time-view-text" id="timeViewText">Select Hour</div>
                                    </div>
    
                                    <div class="time-display">
                                        <div class="time-display-container">
                                            <button class="time-part-btn active" id="hourBtn" onclick="setTimeView('hour', 'departure')">12</button>
                                            <span class="time-separator">:</span>
                                            <button class="time-part-btn" id="minuteBtn" onclick="setTimeView('minute', 'departure')">00</button>
                                            <button class="time-part-btn" id="periodBtn" onclick="setTimeView('period', 'departure')" style="margin-left: 0.5rem;">PM</button>
                                        </div>
                                    </div>
    
                                    <div id="timeGrid" class="time-grid">
                                    </div>
    
                                    <div class="time-footer">
                                        <button class="time-cancel-btn" id="timeCancelBtn" onclick="closeTimePicker('departure')">Cancel</button>
                                        <button class="time-apply-btn" id="timeApplyBtn" onclick="applyTime('departure')">
                                            <i data-lucide="check" class="time-apply-icon"></i>
                                            Apply
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
    
                    <div class="datetime-row hidden" id="returnDateTimeRow">
                        <div class="datetime-container">
                            <div style="position: relative; flex: 1;">
                                <button class="datetime-button" id="returnDateBtn" onclick="openCalendar('return')">
                                    <i data-lucide="calendar" class="datetime-icon"></i>
                                    <span class="datetime-text" id="returnDateText">Dec 13
2024</span>
                                </button>
    
                                <div class="calendar-modal" id="returnCalendar">
                                    <div class="calendar-header">
                                        <div class="calendar-title-section">
                                            <i data-lucide="calendar" class="calendar-icon"></i>
                                            <h3 class="calendar-title">Select Return Date</h3>
                                        </div>
                                        <div class="calendar-nav">
                                            <button class="calendar-nav-btn" id="returnPrevMonthBtn" onclick="changeMonth(-1, 'return')">
                                                <i data-lucide="chevron-left" class="calendar-nav-icon"></i>
                                            </button>
                                            <button class="calendar-nav-btn" id="returnNextMonthBtn" onclick="changeMonth(1, 'return')">
                                                <i data-lucide="chevron-right" class="calendar-nav-icon"></i>
                                            </button>
                                        </div>
                                    </div>
    
                                    <div class="calendar-month-year">
                                        <div class="calendar-month-text" id="returnCalendarMonthYear">December 2024</div>
                                    </div>
    
                                    <div class="calendar-grid">
                                        <div class="calendar-weekdays">
                                            <div class="calendar-weekday">S</div>
                                            <div class="calendar-weekday">M</div>
                                            <div class="calendar-weekday">T</div>
                                            <div class="calendar-weekday">W</div>
                                            <div class="calendar-weekday">T</div>
                                            <div class="calendar-weekday">F</div>
                                            <div class="calendar-weekday">S</div>
                                        </div>
                                        <div id="returnCalendarDays"></div>
                                    </div>
    
                                    <div class="calendar-footer">
                                        <button class="calendar-today-btn" id="returnTodayBtn" onclick="selectToday('return')">Today</button>
                                        <button class="calendar-cancel-btn" id="returnCalendarCancelBtn" onclick="closeCalendar('return')">Cancel</button>
                                    </div>
                                </div>
                            </div>
    
                            <div class="datetime-divider">|</div>
    
                            <div style="position: relative; flex: 1;">
                                <button class="datetime-button" id="returnTimeBtn" onclick="openTimePicker('return')">
                                    <i data-lucide="clock" class="datetime-icon"></i>
                                    <span class="datetime-text time-display" id="returnTimeText">12:00 PM</span>
                                </button>
    
                                <div class="time-modal" id="returnTime">
                                    <div class="time-header">
                                        <div class="time-title-section">
                                            <i data-lucide="clock" class="time-icon"></i>
                                            <h3 class="time-title">Select Return Time</h3>
                                        </div>
                                        <div class="time-view-text" id="returnTimeViewText">Select Hour</div>
                                    </div>
    
                                    <div class="time-display">
                                        <div class="time-display-container">
                                            <button class="time-part-btn active" id="returnHourBtn" onclick="setTimeView('hour', 'return')">12</button>
                                            <span class="time-separator">:</span>
                                            <button class="time-part-btn" id="returnMinuteBtn" onclick="setTimeView('minute', 'return')">00</button>
                                            <button class="time-part-btn" id="returnPeriodBtn" onclick="setTimeView('period', 'return')" style="margin-left: 0.5rem;">PM</button>
                                        </div>
                                    </div>
    
                                    <div id="returnTimeGrid" class="time-grid">
                                    </div>
    
                                    <div class="time-footer">
                                        <button class="time-cancel-btn" id="returnTimeCancelBtn" onclick="closeTimePicker('return')">Cancel</button>
                                        <button class="time-apply-btn" id="returnTimeApplyBtn" onclick="applyTime('return')">
                                            <i data-lucide="check" class="time-apply-icon"></i>
                                            Apply
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                </div>


                <div class="right-controls">
                    <div style="position: relative;">
                        <button class="control-button" id="passengersBtn" onclick="toggleCategoryMenu('passengers')">
                            <i data-lucide="users" class="category-icon"></i>
                            <span class="category-text"></span>
                            <span class="category-count" id="passengersCount">1</span>
                        </button>

                        <div class="category-menu" id="passengersMenu">
                            <div class="category-menu-header">
                                <h3 class="category-menu-title">Passengers</h3>
                            </div>
                            <div class="category-menu-content">
                                <div class="category-selector">
                                    <div class="category-selector-info">
                                        <div class="category-selector-icon">
                                            <i data-lucide="user" class="category-icon"></i>
                                        </div>
                                        <div>
                                            <div class="category-selector-text">Adults</div>
                                            <div class="category-selector-desc">Age 12+</div>
                                        </div>
                                    </div>
                                    <div class="category-selector-controls">
                                        <button class="category-control-btn" id="adultsDecBtn" onclick="updateCount('adults', -1, 1)">-</button>
                                        <span class="category-count-display" id="adultsCount">1</span>
                                        <button class="category-control-btn" id="adultsIncBtn" onclick="updateCount('adults', 1, 1, 10)">+</button>
                                    </div>
                                </div>
                                <div class="category-selector">
                                    <div class="category-selector-info">
                                        <div class="category-selector-icon">
                                            <i data-lucide="child" class="category-icon"></i>
                                        </div>
                                        <div>
                                            <div class="category-selector-text">Children</div>
                                            <div class="category-selector-desc">Age 0-11</div>
                                        </div>
                                    </div>
                                    <div class="category-selector-controls">
                                        <button class="category-control-btn" id="childrenDecBtn" onclick="updateCount('children', -1, 0)">-</button>
                                        <span class="category-count-display" id="childrenCount">0</span>
                                        <button class="category-control-btn" id="childrenIncBtn" onclick="updateCount('children', 1, 0, 10)">+</button>
                                    </div>
                                </div>
                                <div class="clearfix">
                                    <button class="category-apply-btn" id="passengersApplyBtn" onclick="closeCategoryMenu('passengers')">Apply</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div style="display: flex; gap: 0.5rem;">
                        <div style="position: relative; flex: 1;">
                            <button class="control-button" id="luggageBtn" onclick="toggleCategoryMenu('luggage')">
                                <i data-lucide="briefcase" class="category-icon"></i>
                                <span class="category-count" id="luggageCount">1</span>
                            </button>
                            
                            <div class="category-menu" id="luggageMenu">
                                <div class="category-menu-header">
                                    <h3 class="category-menu-title">Baggage</h3>
                                </div>
                                <div class="category-menu-content">
                                    <div class="category-selector">
                                        <div class="category-selector-info">
                                            <div class="category-selector-icon">
                                                <i data-lucide="briefcase" class="category-icon"></i>
                                            </div>
                                            <div>
                                                <div class="category-selector-text">Carry-on</div>
                                                <div class="category-selector-desc">Up to 10kg</div>
                                            </div>
                                        </div>
                                        <div class="category-selector-controls">
                                            <button class="category-control-btn" id="carryOnDecBtn" onclick="updateCount('carryOn', -1, 0)">-</button>
                                            <span class="category-count-display" id="carryOnCount">1</span>
                                            <button class="category-control-btn" id="carryOnIncBtn" onclick="updateCount('carryOn', 1, 0, 10)">+</button>
                                        </div>
                                    </div>
                                    <div class="category-selector">
                                        <div class="category-selector-info">
                                            <div class="category-selector-icon">
                                                <i data-lucide="briefcase" class="category-icon"></i>
                                            </div>
                                            <div>
                                                <div class="category-selector-text">Checked Bags</div>
                                                <div class="category-selector-desc">Up to 32kg each</div>
                                            </div>
                                        </div>
                                        <div class="category-selector-controls">
                                            <button class="category-control-btn" id="checkedBagsDecBtn" onclick="updateCount('checkedBags', -1, 0)">-</button>
                                            <span class="category-count-display" id="checkedBagsCount">0</span>
                                            <button class="category-control-btn" id="checkedBagsIncBtn" onclick="updateCount('checkedBags', 1, 0, 5)">+</button>
                                        </div>
                                    </div>
                                    <div class="clearfix">
                                        <button class="category-apply-btn" id="luggageApplyBtn" onclick="closeCategoryMenu('luggage')">Apply</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div style="position: relative; flex: 1;">
                            <button class="control-button" id="petsBtn" onclick="toggleCategoryMenu('pets')">
                                <i data-lucide="dog" class="category-icon"></i>
                                <span class="category-count" id="petsCount">0</span>
                            </button>

                            <div class="category-menu" id="petsMenu">
                                <div class="category-menu-header">
                                    <h3 class="category-menu-title">Pets</h3>
                                </div>
                                <div class="category-menu-content">
                                    <div class="category-selector">
                                        <div class="category-selector-info">
                                            <div class="category-selector-icon">
                                                <i data-lucide="dog" class="category-icon"></i>
                                            </div>
                                            <div>
                                                <div class="category-selector-text">Small Pets</div>
                                                <div class="category-selector-desc">Under 10kg</div>
                                            </div>
                                        </div>
                                        <div class="category-selector-controls">
                                            <button class="category-control-btn" id="smallPetsDecBtn" onclick="updateCount('smallPets', -1, 0)">-</button>
                                            <span class="category-count-display" id="smallPetsCount">0</span>
                                            <button class="category-control-btn" id="smallPetsIncBtn" onclick="updateCount('smallPets', 1, 0, 5)">+</button>
                                        </div>
                                    </div>
                                    <div class="category-selector">
                                        <div class="category-selector-info">
                                            <div class="category-selector-icon">
                                                <i data-lucide="dog" class="category-icon"></i>
                                            </div>
                                            <div>
                                                <div class="category-selector-text">Large Pets</div>
                                                <div class="category-selector-desc">10kg and above</div>
                                            </div>
                                        </div>
                                        <div class="category-selector-controls">
                                            <button class="category-control-btn" id="largePetsDecBtn" onclick="updateCount('largePets', -1, 0)">-</button>
                                            <span class="category-count-display" id="largePetsCount">0</span>
                                            <button class="category-control-btn" id="largePetsIncBtn" onclick="updateCount('largePets', 1, 0, 3)">+</button>
                                        </div>
                                    </div>
                                    <div class="clearfix">
                                        <button class="category-apply-btn" id="petsApplyBtn" onclick="closeCategoryMenu('pets')">Apply</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Gold accent line at bottom -->
            <div class="gold-accent-bottom"></div>
        </div>
        
        <button class="search-button " style="margin-top:1rem; " id="searchBtn" onclick="handleSearch()" >
            Search
            <i data-lucide="search" class="search-icon"></i>
        </button>
            </div>

 
    <!-- AIRCRAFT SELECTION MODAL -->
    <div id="aircraftMenu">
        <div id="aircraftMenuContent">
            <button id="closeAircraftMenuBtn">&times;</button>
            <h2 style="text-align: center; margin-bottom: 2rem; color: #ffae00;">Select Your Aircraft</h2>


        
            <div class="aircraft-item">
                <div class="aircraft-images">
                    <img src="https://cdn.jsdelivr.net/gh/karam25pal/SSWMKJISSWMKJIjetsSSWMKJISSWMKJI@main/Turboprop%20-%20King%20Air%20360/515120-King%20Air%20360%20001-6e0eba-original-1701191313.jpeg" alt="Turbo prop Exterior">
                    <img src="https://cdn.jsdelivr.net/gh/karam25pal/SSWMKJISSWMKJIjetsSSWMKJISSWMKJI@main/Turboprop%20-%20King%20Air%20360/521380-DIKG_0107-2d87e9-original-1705420854.jpg" alt="Turbo prop Interior">
                </div>
                <div class="aircraft-details">
                    <h3>Turbo prop</h3>
                    <p><i data-lucide="users"></i> 6-9</p>
                </div>
                <div class="aircraft-price-box">
                    <button class="inquire-btn" onclick="openContactform()">Inquire</button>
                </div>
            </div>
            
            <div class="aircraft-item">
                <div class="aircraft-images">
                    <img src="https://cdn.jsdelivr.net/gh/karam25pal/SSWMKJISSWMKJIjetsSSWMKJISSWMKJI@main/Entry%20Level%20-%20Cit%20M2/558793-Cessna%20Citation%20M2%20Gen3%20Air-to-Air%20002-c52370-original-1729516399%20(1).jpg" alt="Entry Level Jet Exterior">
                    <img src="https://cdn.jsdelivr.net/gh/karam25pal/SSWMKJISSWMKJIjetsSSWMKJISSWMKJI@main/Entry%20Level%20-%20Cit%20M2/558781-Cessna%20Citation%20CJ4%20Gen3%20Eco%20Interior%20001-db29ac-original-1729515841.jpg" alt="Entry Level Jet Interior">
                </div>
                <div class="aircraft-details">
                    <h3>Entry Level Jet</h3>
                    <p><i data-lucide="users"></i> 5-6</p>
                </div>
                <div class="aircraft-price-box">
                    <button class="inquire-btn" onclick="openContactform()">Inquire</button>
                </div>
            </div>

            <div class="aircraft-item">
                <div class="aircraft-images">
                    <img src="https://cdn.jsdelivr.net/gh/karam25pal/SSWMKJISSWMKJIjetsSSWMKJISSWMKJI@main/Light%20Jets%20-%20Cit%20CJ/558789-Cessna%20Citation%20CJ3%20Gen3%20Air-to-Air%20001-7e90d7-original-1729516132.jpg" alt="Light Jet Exterior">
                    <img src="https://cdn.jsdelivr.net/gh/karam25pal/SSWMKJISSWMKJIjetsSSWMKJISSWMKJI@main/Light%20Jets%20-%20Cit%20CJ/519838-Cessna%20Citation%20Ascend%20Cabin%20001-b41b5b-original-1704302044.jpg" alt="Light Jet Interior">
                </div>
                <div class="aircraft-details">
                    <h3>Light jet</h3>
                    <p><i data-lucide="users"></i> 6-8</p>
                </div>
                <div class="aircraft-price-box">
                    <button class="inquire-btn" onclick="openContactform()">Inquire</button>
                </div>
            </div>

            <div class="aircraft-item">
                <div class="aircraft-images">
                    <img src="https://cdn.jsdelivr.net/gh/karam25pal/SSWMKJISSWMKJIjetsSSWMKJISSWMKJI@main/Super%20Light%20-%20Phenom%20300E/Phenom-300E-5-1200x904-0903a6dc-37af-4acb-873b-6335d2a2b329.jpg" alt="Super Light Jet Exterior">
                    <img src="https://cdn.jsdelivr.net/gh/karam25pal/SSWMKJISSWMKJIjetsSSWMKJISSWMKJI@main/Super%20Light%20-%20Phenom%20300E/ESN_3429-PS-EDIT-1200x800-5d7c922b-5471-4a9a-a8e7-b6e41c968e3d.jpg" " alt="Super Light Jet Interior">
                </div>
                <div class="aircraft-details">
                    <h3>Super Light Jet</h3>
                    <p><i data-lucide="users"></i> 6-9</p>
                </div>
                <div class="aircraft-price-box">
                    <button class="inquire-btn" onclick="openContactform()">Inquire</button>
                </div>
            </div>

            <div class="aircraft-item">
                <div class="aircraft-images">
                    <img src="https://cdn.jsdelivr.net/gh/karam25pal/SSWMKJISSWMKJIjetsSSWMKJISSWMKJI@main/Med%20Jet%20-%20Cit%20Lat/511147-375615-Flight_03-55c680-original-1610401552-579ee7-original-1699376949.jpg" alt="Midsize Jet Exterior">
                    <img src="https://cdn.jsdelivr.net/gh/karam25pal/SSWMKJISSWMKJIjetsSSWMKJISSWMKJI@main/Med%20Jet%20-%20Cit%20Lat/511159-398765-DHWK004300x-7d5f48-original-1628620944-1d8f17-original-1699377075.png" alt="Midsize Jet Interior">
                </div>
                <div class="aircraft-details">
                    <h3>Midsize jet</h3>
                    <p><i data-lucide="users"></i> 6-9</p>
                </div>
                <div class="aircraft-price-box">
                    <button class="inquire-btn" onclick="openContactform()">Inquire</button>
                </div>
            </div>

            <div class="aircraft-item">
                <div class="aircraft-images">
                    <img src="https://cdn.jsdelivr.net/gh/karam25pal/SSWMKJISSWMKJIjetsSSWMKJISSWMKJI@main/Super%20Mid%20Size%20-%20CL350/albums-specialized-aircraft-Challenger-350-Flying-going-left.jpg" alt="Super Midsize Jet Exterior">
                    <img src="https://cdn.jsdelivr.net/gh/karam25pal/SSWMKJISSWMKJIjetsSSWMKJISSWMKJI@main/Super%20Mid%20Size%20-%20CL350/Challenger%203500%20Interior%20Divan%20Looking%20FWD.png" alt="Super Midsize Jet Interior">
                </div>
                <div class="aircraft-details">
                    <h3>Super Midsize Jet</h3>
                    <p><i data-lucide="users"></i> 6-11</p>
                </div>
                <div class="aircraft-price-box">
                    <button class="inquire-btn" onclick="openContactform()">Inquire</button>
                </div>
            </div>

            <div class="aircraft-item">
                <div class="aircraft-images">
                    <img src="https://cdn.jsdelivr.net/gh/karam25pal/SSWMKJISSWMKJIjetsSSWMKJISSWMKJI@main/Heavy%20Jet%20-%20CL650/albums-specialized-aircraft-Challenger-650-Flying-ISR-clouds-front.jpg" alt="Heavy Jet Exterior">
                    <img src="https://cdn.jsdelivr.net/gh/karam25pal/SSWMKJISSWMKJIjetsSSWMKJISSWMKJI@main/Heavy%20Jet%20-%20CL650/albums-challenger-650-interior-9.jpg" alt="Heavy Jet Interior">
                </div>
                <div class="aircraft-details">
                    <h3>Heavy jet</h3>
                    <p><i data-lucide="users"></i> 8-16</p>
                </div>
                <div class="aircraft-price-box">
                    <button class="inquire-btn" onclick="openContactform()">Inquire</button>
                </div>
            </div>

            <div class="aircraft-item">
                <div class="aircraft-images">
                    <img src="https://cdn.jsdelivr.net/gh/karam25pal/SSWMKJISSWMKJIjetsSSWMKJISSWMKJI@main/Ultra%20Rong%20Range%20-%20G7500/Global%207500%20Exterior%20Poster%20Horizontal_3.jpg" alt="Ultra Long Range Exterior">
                    <img src="https://cdn.jsdelivr.net/gh/karam25pal/SSWMKJISSWMKJIjetsSSWMKJISSWMKJI@main/Ultra%20Rong%20Range%20-%20G7500/Global%207500%20and%20Global%208000%20Entertainment%20Suite%20and%20TV.jpg" alt="Ultra Long Range Interior">
                </div>
                <div class="aircraft-details">
                    <h3>Ultra Long Range</h3>
                    <p><i data-lucide="users"></i> 6-18</p>
                </div>
                <div class="aircraft-price-box">
                    <button class="inquire-btn" onclick="openContactform()">Inquire</button>
                </div>
            </div>

            
        </div>
    </div>

    <!-- CONTACT FORM MODAL OVERLAY WAHEGURU JI -->
    <div id="contactModalOverlay">
      <div id="contactStep" class="contact-modal">
        <div style="text-align:center; margin-bottom:1.5rem;">
          <h1 style="color:#f1f1f1; font-size:2rem; font-weight:800; letter-spacing:1px; margin-bottom:0.5rem;">You Are One Step Away From Your Dream Flight</h1>
        </div>
        <button id="closeContactModalBtn">&times;</button>
            <h2 style="color:#ffae00; text-align:center; margin-bottom:2rem;">Contact Details</h2>
            <form id="contactForm" autocomplete="off">
                <div style="margin-bottom:1.5rem;">
                    <label style="color:#fff; font-weight:500;">Full Name</label>
            <input type="text" id="contactName" required style="width:100%;padding:0.75rem 1rem;margin-top:0.5rem;border-radius:0.75rem;border:none;background:#2c2c2c;color:#fff;font-size:1.1rem;" placeholder="Your Name" />
                </div>
                <div style="margin-bottom:1.5rem;">
                    <label style="color:#fff; font-weight:500;">Phone Number</label>
                    <div class="phone-row" style="display:flex;align-items:center;gap:0.5rem;margin-top:0.5rem;">
              <select id="countryCode" style="padding:0.75rem 0.5rem;border-radius:0.75rem 0 0 0.75rem;border:none;background:#2c2c2c;color:#fff;font-size:1.1rem;min-width:90px;">
                <option value="+1" data-flag=""> United States +1</option>
                <option value="+44" data-flag=""> United Kingdom +44</option>
                <option value="+91" data-flag=""> India +91</option>
                <option value="+971" data-flag=""> United Arab Emirates +971</option>
                <option value="+61" data-flag=""> Australia +61</option>
                <option value="+81" data-flag=""> Japan +81</option>
                <option value="+33" data-flag=""> France +33</option>
                <option value="+49" data-flag=""> Germany +49</option>
                <option value="+86" data-flag=""> China +86</option>
                <option value="+7" data-flag=""> Russia +7</option>
                <option value="+39" data-flag=""> Italy +39</option>
                <option value="+34" data-flag=""> Spain +34</option>
                <option value="+55" data-flag=""> Brazil +55</option>
                <option value="+27" data-flag=""> South Africa +27</option>
                <option value="+82" data-flag=""> South Korea +82</option>
                <option value="+65" data-flag=""> Singapore +65</option>
                <option value="+852" data-flag=""> Hong Kong +852</option>
                <option value="+62" data-flag=""> Indonesia +62</option>
                <option value="+60" data-flag=""> Malaysia +60</option>
                <option value="+63" data-flag=""> Philippines +63</option>
                <option value="+66" data-flag=""> Thailand +66</option>
                <option value="+90" data-flag=""> Turkey +90</option>
                <option value="+20" data-flag=""> Egypt +20</option>
                <option value="+234" data-flag=""> Nigeria +234</option>
                <option value="+92" data-flag=""> Pakistan +92</option>
                <option value="+880" data-flag=""> Bangladesh +880</option>
                <option value="+94" data-flag=""> Sri Lanka +94</option>
                <option value="+64" data-flag=""> New Zealand +64</option>
                <option value="+358" data-flag=""> Finland +358</option>
                <option value="+46" data-flag=""> Sweden +46</option>
                <option value="+47" data-flag=""> Norway +47</option>
                <option value="+45" data-flag=""> Denmark +45</option>
                <option value="+31" data-flag=""> Netherlands +31</option>
                <option value="+41" data-flag=""> Switzerland +41</option>
                <option value="+43" data-flag=""> Austria +43</option>
                <option value="+48" data-flag=""> Poland +48</option>
                <option value="+420" data-flag=""> Czech Republic +420</option>
                <option value="+421" data-flag=""> Slovakia +421</option>
                <option value="+36" data-flag=""> Hungary +36</option>
                <option value="+40" data-flag=""> Romania +40</option>
                <option value="+380" data-flag=""> Ukraine +380</option>
                <option value="+48" data-flag=""> Poland +48</option>
                <option value="+386" data-flag=""> Slovenia +386</option>
                <option value="+385" data-flag=""> Croatia +385</option>
                <option value="+381" data-flag=""> Serbia +381</option>
                <option value="+36" data-flag=""> Hungary +36</option>
                <option value="+420" data-flag=""> Czech Republic +420</option>
                <option value="+421" data-flag=""> Slovakia +421</option>
                <option value="+386" data-flag=""> Slovenia +386</option>
                <option value="+385" data-flag=""> Croatia +385</option>
                <option value="+372" data-flag=""> Estonia +372</option>
                <option value="+371" data-flag=""> Latvia +371</option>
                <option value="+370" data-flag=""> Lithuania +370</option>
                <option value="+48" data-flag=""> Poland +48</option>
                <option value="+994" data-flag=""> Azerbaijan +994</option>
                <option value="+995" data-flag=""> Georgia +995</option>
                <option value="+996" data-flag=""> Kyrgyzstan +996</option>
                <option value="+998" data-flag=""> Uzbekistan +998</option>
                <option value="+993" data-flag=""> Turkmenistan +993</option>
                <option value="+373" data-flag=""> Moldova +373</option>
                <option value="+375" data-flag=""> Belarus +375</option>
                <option value="+994" data-flag=""> Azerbaijan +994</option>
                <option value="+387" data-flag=""> Bosnia & Herzegovina +387</option>
                <option value="+389" data-flag=""> North Macedonia +389</option>
                <option value="+381" data-flag=""> Serbia +381</option>
                <option value="+382" data-flag=""> Montenegro +382</option>
                <option value="+383" data-flag=""> Kosovo +383</option>
                <option value="+995" data-flag=""> Georgia +995</option>
                <option value="+994" data-flag=""> Azerbaijan +994</option>
                <option value="+972" data-flag=""> Israel +972</option>
                <option value="+962" data-flag=""> Jordan +962</option>
                <option value="+963" data-flag=""> Syria +963</option>
                <option value="+964" data-flag=""> Iraq +964</option>
                <option value="+965" data-flag=""> Kuwait +965</option>
                <option value="+966" data-flag=""> Saudi Arabia +966</option>
                <option value="+968" data-flag=""> Oman +968</option>
                <option value="+970" data-flag=""> Palestine +970</option>
                <option value="+973" data-flag=""> Bahrain +973</option>
                <option value="+974" data-flag=""> Qatar +974</option>
                <option value="+975" data-flag=""> Bhutan +975</option>
                <option value="+976" data-flag=""> Mongolia +976</option>
                <option value="+977" data-flag=""> Nepal +977</option>
                <option value="+992" data-flag=""> Tajikistan +992</option>
                <option value="+993" data-flag=""> Turkmenistan +993</option>
                <option value="+994" data-flag=""> Azerbaijan +994</option>
                <option value="+995" data-flag=""> Georgia +995</option>
                <option value="+996" data-flag=""> Kyrgyzstan +996</option>
                <option value="+998" data-flag=""> Uzbekistan +998</option>
                <option value="+1-242" data-flag=""> Bahamas +1-242</option>
                <option value="+1-246" data-flag=""> Barbados +1-246</option>
                <option value="+1-264" data-flag=""> Anguilla +1-264</option>
                <option value="+1-268" data-flag=""> Antigua & Barbuda +1-268</option>
                <option value="+1-284" data-flag=""> British Virgin Islands +1-284</option>
                <option value="+1-340" data-flag=""> US Virgin Islands +1-340</option>
                <option value="+1-345" data-flag=""> Cayman Islands +1-345</option>
                <option value="+1-441" data-flag=""> Bermuda +1-441</option>
                <option value="+1-473" data-flag=""> Grenada +1-473</option>
                <option value="+1-649" data-flag=""> Turks & Caicos Islands +1-649</option>
                <option value="+1-664" data-flag=""> Montserrat +1-664</option>
                <option value="+1-721" data-flag=""> Sint Maarten +1-721</option>
                <option value="+1-758" data-flag=""> Saint Lucia +1-758</option>
                <option value="+1-767" data-flag=""> Dominica +1-767</option>
                <option value="+1-784" data-flag=""> Saint Vincent & Grenadines +1-784</option>
                <option value="+1-809" data-flag=""> Dominican Republic +1-809</option>
                <option value="+1-868" data-flag=""> Trinidad & Tobago +1-868</option>
                <option value="+1-876" data-flag=""> Jamaica +1-876</option>
                <!-- Add more countries as needed -->
                        </select>
              <input type="tel" id="contactPhone" required style="flex:1;padding:0.75rem 1rem;border-radius:0 0.75rem 0.75rem 0;border:none;background:#2c2c2c;color:#fff;font-size:1.1rem;" placeholder="Phone Number" />
                    </div>
                </div>
                <div style="margin-bottom:1.5rem;">
                    <label style="color:#fff; font-weight:500;">Email</label>
            <input type="email" id="contactEmail" required style="width:100%;padding:0.75rem 1rem;margin-top:0.5rem;border-radius:0.75rem;border:none;background:#2c2c2c;color:#fff;font-size:1.1rem;" placeholder="you@email.com" />
                </div>
                <div style="margin-bottom:2rem;">
                    <label style="color:#fff; font-weight:500;">Any other request (optional)</label>
            <textarea id="contactRequest" style="width:100%;padding:0.75rem 1rem;margin-top:0.5rem;border-radius:0.75rem;border:none;background:#2c2c2c;color:#fff;font-size:1.1rem;min-height:80px;resize:vertical;" placeholder="Let us know anything else..."></textarea>
                </div>
                <div class="button-row" style="display:flex;justify-content:space-between;align-items:center;gap:1rem;">
                    <button type="button" id="backToFlightBtn" style="background:#2c2c2c;color:#fff;padding:0.75rem 2rem;border-radius:0.75rem;border:none;font-weight:600;font-size:1rem;cursor:pointer;">Back</button>
            <button type="submit" style="background:linear-gradient(to right,#fbbf24,#eab308);color:#232226;padding:0.75rem 2rem;border-radius:0.75rem;border:none;font-weight:700;font-size:1rem;cursor:pointer;" ">Submit</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // SATNAM SHRI WAHEGURU JI! 
        // Global state
        let state = {
            tripType: 'one-way',
            fromLocation: '',
            toLocation: '',
            departureDate: new Date(),
            returnDate: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000),
            departureTime: { hour: 12, minute: 0, period: 'PM' },
            returnTime: { hour: 12, minute: 0, period: 'PM' },
            adults: 1,
            children: 0,
            smallPets: 0,
            largePets: 0,
            carryOn: 1,
            checkedBags: 0,
            currentCalendar: null,
            currentTimePicker: null,
            currentTimeView: 'hour',
            currentMonth: new Date(),
            // Multi-leg support
            multiLegs: [], // array of leg objects
            currentLegIndex: 0
        };

        // Sample destinations
        const destinations = [
            { city: "London", code: "LHR", country: "United Kingdom" },
            { city: "Paris", code: "CDG", country: "France" },
            { city: "New York", code: "JFK", country: "United States" },
            { city: "Tokyo", code: "HND", country: "Japan" },
            { city: "Dubai", code: "DXB", country: "United Arab Emirates" },
            { city: "Abu Dhabi", code: "AUH", country: "United Arab Emirates" },
            { city: "Singapore", code: "SIN", country: "Singapore" },
            { city: "Hong Kong", code: "HKG", country: "China" },
            { city: "Sydney", code: "SYD", country: "Australia" },
            { city: "Rome", code: "FCO", country: "Italy" },
            { city: "Madrid", code: "MAD", country: "Spain" },
            { city: "Berlin", code: "BER", country: "Germany" },
            { city: "Amsterdam", code: "AMS", country: "Netherlands" },
            { city: "Bangkok", code: "BKK", country: "Thailand" },
            { city: "Istanbul", code: "IST", country: "Turkey" }
        ];
        

        // Initialize the application when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            lucide.createIcons();
            if (state.tripType === 'multi-leg') {
                if (!state.multiLegs.length) {
                    state.multiLegs = [createNewLeg()];
                    state.currentLegIndex = 0;
                }
                renderMultiLegStack();
            }
            updateUI();
            populateDestinations();
            // Close dropdowns when clicking outside
          
          
        });
            
    

        // Trip type functions
        function setTripType(type) {
            state.tripType = type;
            if (type === 'multi-leg') {
                if (!state.multiLegs.length) {
                    // Initialize with one leg
                    state.multiLegs = [createNewLeg()];
                    state.currentLegIndex = 0;
                }
                renderMultiLegStack(); // Always render after switching to multi-leg
            }
            updateTripTypeUI();
            updateReturnDateTimeVisibility();
            renderMultiLegStack(); // Always render after trip type change
        }

        function createNewLeg() {
            return {
                fromLocation: '',
                toLocation: '',
                departureDate: new Date(),
                departureTime: { hour: 12, minute: 0, period: 'PM' },
                adults: 1,
                children: 0,
                smallPets: 0,
                largePets: 0,
                carryOn: 1,
                checkedBags: 0
            };
        }

        function updateTripTypeUI() {
            const indicator = document.getElementById('tripTypeIndicator');
            const oneWayBtn = document.getElementById('oneWayBtn');
            const roundTripBtn = document.getElementById('roundTripBtn');
            const multiLegBtn = document.getElementById('multiLegBtn');
            const emptyLegBtn = document.getElementById('emptyLegBtn');

            oneWayBtn.classList.remove('active');
            roundTripBtn.classList.remove('active');
            multiLegBtn.classList.remove('active');
            emptyLegBtn.classList.remove('active');

            let indicatorStyle = '';
            if (state.tripType === 'one-way') {
                oneWayBtn.classList.add('active');
                indicatorStyle = 'left: 0.25rem; width: calc(25% - 0.25rem);';
            } else if (state.tripType === 'round-trip') {
                roundTripBtn.classList.add('active');
                indicatorStyle = 'left: 25%; width: 25%;';
            } else if (state.tripType === 'multi-leg') {
                multiLegBtn.classList.add('active');
                indicatorStyle = 'left: 50%; width: 25%;';
            } else if (state.tripType === 'empty-leg') {
                emptyLegBtn.classList.add('active');
                indicatorStyle = 'left: 75%; width: calc(25% - 0.25rem);';
            }
            indicator.style = indicatorStyle;
        }

        function updateReturnDateTimeVisibility() {
            const returnRow = document.getElementById('returnDateTimeRow');
            if (state.tripType === 'round-trip') {
                returnRow.classList.remove('hidden');
            } else {
                returnRow.classList.add('hidden');
            }
        }

        // Placeholder for renderMultiLegStack (to be implemented)
        function renderMultiLegStack() {
            const bookingCard = document.querySelector('.booking-card');
            const formLayout = bookingCard.querySelector('.form-layout');
            let multiLegStack = document.getElementById('multiLegStack');
            let multiLegFormContainer = document.getElementById('multiLegFormContainer');
            // Hide main form if in multi-leg mode
            if (state.tripType === 'multi-leg') {
                formLayout.style.display = 'grid';
                // Create stack container if not exists
                if (!multiLegStack) {
                    multiLegStack = document.createElement('div');
                    multiLegStack.id = 'multiLegStack';
                    multiLegStack.style.position = 'relative';
                    multiLegStack.style.marginBottom = '2rem';
                    bookingCard.insertBefore(multiLegStack, formLayout);
                }
                // Clear stack
                multiLegStack.innerHTML = '';
                // Controls bar (always visible)
                const controlsBar = document.createElement('div');
                controlsBar.style.display = 'flex';
                controlsBar.style.justifyContent = 'center';
                controlsBar.style.alignItems = 'center';
                controlsBar.style.gap = '1.25rem';
                controlsBar.style.margin = '0 auto 2rem auto';
                controlsBar.style.background = 'rgba(44,44,44,0.95)';
                controlsBar.style.borderRadius = '2rem';
                controlsBar.style.padding = '0.75rem 2.5rem';
                controlsBar.style.boxShadow = '0 2px 12px rgba(0,0,0,0.12)';
                controlsBar.style.maxWidth = '420px';
                function makeIconBtn(icon, onClick, disabled, title) {
                    const btn = document.createElement('button');
                    btn.innerHTML = `<i data-lucide="${icon}"></i>`;
                    btn.type = 'button';
                    btn.disabled = !!disabled;
                    btn.title = title || '';
                    btn.style.background = 'none';
                    btn.style.border = 'none';
                    btn.style.padding = '0.25rem';
                    btn.style.borderRadius = '50%';
                    btn.style.cursor = disabled ? 'not-allowed' : 'pointer';
                    btn.style.transition = 'background 0.2s, box-shadow 0.2s';
                    btn.style.display = 'flex';
                    btn.style.alignItems = 'center';
                    btn.style.justifyContent = 'center';
                    btn.style.fontSize = '1.7rem';
                    btn.style.color = '#ffae00';
                    btn.onmouseenter = () => { if (!disabled) btn.style.background = 'rgba(255,174,0,0.08)'; };
                    btn.onmouseleave = () => { btn.style.background = 'none'; };
                    btn.onclick = onClick;
                    return btn;
                }
                controlsBar.appendChild(makeIconBtn(
                    'arrow-left-circle',
                    () => { updateCurrentLegFromForm(); state.currentLegIndex = Math.max(0, state.currentLegIndex-1); renderMultiLegStack(); updateUI(); if(window.lucide) lucide.createIcons(); },
                    state.currentLegIndex === 0,
                    'Previous leg'
                ));
                const legLabel = document.createElement('span');
                legLabel.textContent = `Leg ${state.currentLegIndex+1} of ${state.multiLegs.length}`;
                legLabel.style.color = '#ffae00';
                legLabel.style.fontWeight = 'bold';
                legLabel.style.fontSize = '1.1rem';
                controlsBar.appendChild(legLabel);
                controlsBar.appendChild(makeIconBtn(
                    'arrow-right-circle',
                    () => { updateCurrentLegFromForm(); state.currentLegIndex = Math.min(state.multiLegs.length-1, state.currentLegIndex+1); renderMultiLegStack(); updateUI(); if(window.lucide) lucide.createIcons(); },
                    state.currentLegIndex === state.multiLegs.length-1,
                    'Next leg'
                ));
                controlsBar.appendChild(makeIconBtn(
                    'plus-circle',
                    () => { updateCurrentLegFromForm(); state.multiLegs.splice(state.currentLegIndex+1,0,createNewLeg()); state.currentLegIndex = state.currentLegIndex+1; renderMultiLegStack(); updateUI(); if(window.lucide) lucide.createIcons(); },
                    false,
                    'Add new leg'
                ));
                if (state.multiLegs.length > 1) {
                    controlsBar.appendChild(makeIconBtn(
                        'x-circle',
                        () => { state.multiLegs.splice(state.currentLegIndex,1); state.currentLegIndex = Math.max(0, state.currentLegIndex-1); renderMultiLegStack(); updateUI(); if(window.lucide) lucide.createIcons(); },
                        false,
                        'Delete this leg'
                    ));
                }
                multiLegStack.appendChild(controlsBar);
                if (window.lucide) {
                    lucide.createIcons();
                }
                // Render only the current leg's card
                const idx = state.currentLegIndex;
                const leg = state.multiLegs[idx];
                
                if (!bookingCard.classList.contains('center-multi-leg')) {
                    bookingCard.classList.add('center-multi-leg');
                }
            } else {
                // Not multi-leg: show main form, remove stack and restore form
                formLayout.style.display = 'grid';
                if (multiLegStack) multiLegStack.remove();
                // Restore form to original place if needed
                const origParent = document.querySelector('.booking-card .form-layout')?.parentNode;
                if (origParent && origParent !== document.querySelector('.booking-card')) {
                    document.querySelector('.booking-card').appendChild(formLayout);
                }
                bookingCard.classList.remove('center-multi-leg');
            }
        }

        // Sync the main form state with the current leg
        function syncFormWithLeg(leg) {
            state.fromLocation = leg.fromLocation;
            state.toLocation = leg.toLocation;
            state.departureDate = new Date(leg.departureDate);
            state.departureTime = { ...leg.departureTime };
            state.adults = leg.adults;
            state.children = leg.children;
            state.smallPets = leg.smallPets;
            state.largePets = leg.largePets;
            state.carryOn = leg.carryOn;
            state.checkedBags = leg.checkedBags;
        }

        // When form changes, update the current leg
        function updateCurrentLegFromForm() {
            if (state.tripType === 'multi-leg') {
                const leg = state.multiLegs[state.currentLegIndex];
                leg.fromLocation = state.fromLocation;
                leg.toLocation = state.toLocation;
                leg.departureDate = new Date(state.departureDate);
                leg.departureTime = { ...state.departureTime };
                leg.adults = state.adults;
                leg.children = state.children;
                leg.smallPets = state.smallPets;
                leg.largePets = leg.largePets;
                leg.carryOn = state.carryOn;
                leg.checkedBags = state.checkedBags;
            }
        }

        // Patch all form-changing functions to call updateCurrentLegFromForm()
        // (You may need to call updateCurrentLegFromForm() at the end of each form-changing function)

        // Location functions
        function toggleDropdown(type) {
            closeAllMenus();
            const dropdown = document.getElementById(type + 'Dropdown');
            dropdown.classList.toggle('show');
        }

        function closeDropdown(type) {
            const dropdown = document.getElementById(type + 'Dropdown');
            dropdown.classList.remove('show');
        }

        function populateDestinations() {
            populateDestinationList('from');
            populateDestinationList('to');
        }

        function populateDestinationList(type) {
            const container = document.getElementById(type + 'Destinations');
            container.innerHTML = '';

            destinations.forEach(dest => {
                const item = document.createElement('div');
                item.className = 'dropdown-item';
                if (dest.city === state[type + 'Location']) {
                    item.classList.add('selected');
                }

                item.innerHTML = `
                    <div class="dropdown-item-content">
                        <div>
                            <div class="dropdown-item-city">${dest.city}</div>
                            <div class="dropdown-item-country">${dest.country}</div>
                        </div>
                        <div class="dropdown-item-code">${dest.code}</div>
                    </div>
                `;

                item.onclick = () => selectLocation(type, dest.city);
                container.appendChild(item);
            });
        }

        function selectLocation(type, city) {
            state[type + 'Location'] = city;
            updateLocationUI();
            closeDropdown(type);
            populateDestinations(); // Refresh to update selected state
            updateCurrentLegFromForm();
        }

        function updateLocationUI() {
            document.getElementById('fromLocationText').textContent = state.fromLocation;
            document.getElementById('toLocationText').textContent = state.toLocation;
        }

        function swapLocations() {
            const temp = state.fromLocation;
            state.fromLocation = state.toLocation;
            state.toLocation = temp;
            updateLocationUI();
            populateDestinations();
            updateCurrentLegFromForm();
        }

        // Calendar functions
        function openCalendar(type) {
            closeAllMenus();
            state.currentCalendar = type;
            const calendar = document.getElementById(type === 'departure' ? 'departureCalendar' : 'returnCalendar');
            calendar.classList.add('show');
            updateCalendarDisplay(type);
        }

        function closeCalendar(type) {
            const calendar = document.getElementById(type === 'departure' ? 'departureCalendar' : 'returnCalendar');
            calendar.classList.remove('show');
            state.currentCalendar = null;
        }

        function changeMonth(direction, type) {
            const currentDate = type === 'departure' ? state.departureDate : state.returnDate;
            const newDate = new Date(currentDate.getFullYear(), currentDate.getMonth() + direction, 1);
            state.currentMonth = newDate;
            updateCalendarDisplay(type);
        }

        function updateCalendarDisplay(type) {
            const monthYearElement = document.getElementById(type === 'departure' ? 'calendarMonthYear' : 'returnCalendarMonthYear');
            const daysContainer = document.getElementById(type === 'departure' ? 'calendarDays' : 'returnCalendarDays');
            
            const currentDate = state.currentMonth;
            const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',
                'July', 'August', 'September', 'October', 'November', 'December'];
            
            monthYearElement.textContent = `${monthNames[currentDate.getMonth()]} ${currentDate.getFullYear()}`;
            
            // Generate calendar days
            generateCalendarDays(daysContainer, currentDate, type);
        }

        function generateCalendarDays(container, currentDate, type) {
            container.innerHTML = '';
            
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();
            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            const startDate = new Date(firstDay);
            startDate.setDate(startDate.getDate() - firstDay.getDay());
            
            const selectedDate = type === 'departure' ? state.departureDate : state.returnDate;
            const today = new Date();
            const minDate = type === 'return' ? state.departureDate : today;
            
            for (let week = 0; week < 6; week++) {
                const weekDiv = document.createElement('div');
                weekDiv.className = 'calendar-days';
                
                for (let day = 0; day < 7; day++) {
                    const date = new Date(startDate);
                    date.setDate(startDate.getDate() + (week * 7) + day);
                    
                    const dayButton = document.createElement('button');
                    dayButton.className = 'calendar-day';
                    dayButton.textContent = date.getDate();
                    
                    const isCurrentMonth = date.getMonth() === month;
                    const isSelected = isCurrentMonth && isSameDay(date, selectedDate);
                    const isToday = isSameDay(date, today);
                    const isDisabled = date < minDate;
                    
                    if (isSelected) {
                        dayButton.classList.add('selected');
                    } else if (isToday && isCurrentMonth) {
                        dayButton.classList.add('today');
                    }
                    
                    if (isDisabled || !isCurrentMonth) {
                        dayButton.classList.add('disabled');
                        dayButton.disabled = true;
                    } else {
                        dayButton.onclick = () => selectDate(date, type);
                    }
                    
                    weekDiv.appendChild(dayButton);
                }
                
                container.appendChild(weekDiv);
            }
        }

        function selectDate(date, type) {
            if (type === 'departure') {
                state.departureDate = new Date(date);
            } else {
                state.returnDate = new Date(date);
            }
            updateDateTimeUI();
            closeCalendar(type);
            updateCurrentLegFromForm();
        }

        function selectToday(type) {
            selectDate(new Date(), type);
        }

        function isSameDay(date1, date2) {
            return date1.getDate() === date2.getDate() &&
                   date1.getMonth() === date2.getMonth() &&
                   date1.getFullYear() === date2.getFullYear();
        }

        // Time picker functions
        function openTimePicker(type) {
            closeAllMenus();
            state.currentTimePicker = type;
            state.currentTimeView = 'hour';
            const timePicker = document.getElementById(type === 'departure' ? 'departureTime' : 'returnTime');
            timePicker.classList.add('show');
            updateTimePickerDisplay(type);
        }

        function closeTimePicker(type) {
            const timePicker = document.getElementById(type === 'departure' ? 'departureTime' : 'returnTime');
            timePicker.classList.remove('show');
            state.currentTimePicker = null;
        }

        function setTimeView(view, type) {
            state.currentTimeView = view;
            updateTimePickerDisplay(type);
        }

        function updateTimePickerDisplay(type) {
            const prefix = type === 'departure' ? '' : 'return';
            const timeData = type === 'departure' ? state.departureTime : state.returnTime;
            
            // Update time display buttons - fix ID case sensitivity
            const hourBtnId = prefix + (prefix ? 'HourBtn' : 'hourBtn');
            const minuteBtnId = prefix + (prefix ? 'MinuteBtn' : 'minuteBtn');
            const periodBtnId = prefix + (prefix ? 'PeriodBtn' : 'periodBtn');
            const timeViewTextId = prefix + (prefix ? 'TimeViewText' : 'timeViewText');
            
            document.getElementById(hourBtnId).textContent = timeData.hour.toString().padStart(2, '0');
            document.getElementById(minuteBtnId).textContent = timeData.minute.toString().padStart(2, '0');
            document.getElementById(periodBtnId).textContent = timeData.period;
            
            // Update active state
            const hourBtn = document.getElementById(hourBtnId);
            const minuteBtn = document.getElementById(minuteBtnId);
            const periodBtn = document.getElementById(periodBtnId);
            
            hourBtn.classList.toggle('active', state.currentTimeView === 'hour');
            minuteBtn.classList.toggle('active', state.currentTimeView === 'minute');
            periodBtn.classList.toggle('active', state.currentTimeView === 'period');
            
            // Update view text
            const viewTexts = {
                hour: 'Select Hour',
                minute: 'Select Minute',
                period: 'Select AM/PM'
            };
            document.getElementById(timeViewTextId).textContent = viewTexts[state.currentTimeView];
            
            // Update time grid
            updateTimeGrid(type);
        }

        function updateTimeGrid(type) {
            const prefix = type === 'departure' ? '' : 'return';
            const gridId = prefix + (prefix ? 'TimeGrid' : 'timeGrid');
            const grid = document.getElementById(gridId);
            const timeData = type === 'departure' ? state.departureTime : state.returnTime;
            
            grid.innerHTML = '';
            
            if (state.currentTimeView === 'hour') {
                grid.className = 'time-grid';
                for (let i = 1; i <= 12; i++) {
                    const button = document.createElement('button');
                    button.className = 'time-option-btn';
                    button.textContent = i;
                    if (i === timeData.hour) {
                        button.classList.add('selected');
                    }
                    button.onclick = () => selectTimeValue('hour', i, type);
                    grid.appendChild(button);
                }
            } else if (state.currentTimeView === 'minute') {
                grid.className = 'time-grid';
                for (let i = 0; i < 60; i += 5) {
                    const button = document.createElement('button');
                    button.className = 'time-option-btn';
                    button.textContent = i.toString().padStart(2, '0');
                    if (i === timeData.minute) {
                        button.classList.add('selected');
                    }
                    button.onclick = () => selectTimeValue('minute', i, type);
                    grid.appendChild(button);
                }
            } else if (state.currentTimeView === 'period') {
                grid.className = 'time-period-grid';
                ['AM', 'PM'].forEach(period => {
                    const button = document.createElement('button');
                    button.className = 'time-period-btn';
                    button.textContent = period;
                    if (period === timeData.period) {
                        button.classList.add('selected');
                    }
                    button.onclick = () => selectTimeValue('period', period, type);
                    grid.appendChild(button);
                });
            }
        }

        function selectTimeValue(field, value, type) {
            if (type === 'departure') {
                state.departureTime[field] = value;
            } else {
                state.returnTime[field] = value;
            }
            
            // Auto-advance to next view
            if (field === 'hour') {
                state.currentTimeView = 'minute';
            } else if (field === 'minute') {
                state.currentTimeView = 'period';
            }
            
            updateTimePickerDisplay(type);
        }

        function applyTime(type) {
            updateDateTimeUI();
            closeTimePicker(type);
        }

        function getOrdinalSuffix(day) {
            if (day > 3 && day < 21) return 'th';
            switch (day % 10) {
                case 1: return 'st';
                case 2: return 'nd';
                case 3: return 'rd';
                default: return 'th';
            }
        }

        function updateDateTimeUI() {
            // Update departure date and time
            const departureDate = state.departureDate;
            const departureTime = state.departureTime;
            
            const departureDateText = document.getElementById('departureDateText');
            const departureTimeText = document.getElementById('departureTimeText');
            
            if (departureDateText) {
                const month = departureDate.toLocaleDateString('en-US', { month: 'long' });
                const day = departureDate.getDate();
                const year = departureDate.getFullYear();
                departureDateText.innerHTML = `${month.substring(0,3)} ${day}<br>${year}`;
            }
            if (departureTimeText) {
                departureTimeText.textContent = 
                    `${departureTime.hour}:${departureTime.minute.toString().padStart(2, '0')} ${departureTime.period}`;
            }
            
            // Update return date and time
            const returnDate = state.returnDate;
            const returnTime = state.returnTime;
            
            const returnDateText = document.getElementById('returnDateText');
            const returnTimeText = document.getElementById('returnTimeText');
            
            if (returnDateText) {
                const month = returnDate.toLocaleDateString('en-US', { month: 'long' });
                const day = returnDate.getDate();
                const year = returnDate.getFullYear();
                returnDateText.innerHTML = `${month.substring(0,3)} ${day}<br>${year}`;
            }
            if (returnTimeText) {
                returnTimeText.textContent = 
                    `${returnTime.hour}:${returnTime.minute.toString().padStart(2, '0')} ${returnTime.period}`;
            }
        }

        // Category functions
        function updateCount(field, change, min, max = Infinity) {
            const newValue = state[field] + change;
            if (newValue >= min && newValue <= max) {
                state[field] = newValue;
                updateCategoryUI();
            }
        }

        function toggleCategoryMenu(category) {
            closeAllMenus();
            const menu = document.getElementById(category + 'Menu');
            menu.classList.toggle('show');
        }

        function closeCategoryMenu(category) {
            const menu = document.getElementById(category + 'Menu');
            menu.classList.remove('show');
        }

        function updateCategoryUI() {
            // Update individual counts
            document.getElementById('adultsCount').textContent = state.adults;
            document.getElementById('childrenCount').textContent = state.children;
            document.getElementById('smallPetsCount').textContent = state.smallPets;
            document.getElementById('largePetsCount').textContent = state.largePets;
            document.getElementById('carryOnCount').textContent = state.carryOn;
            document.getElementById('checkedBagsCount').textContent = state.checkedBags;
            
            // Update category totals
            document.getElementById('passengersCount').textContent = state.adults + state.children;
            document.getElementById('petsCount').textContent = state.smallPets + state.largePets;
            document.getElementById('luggageCount').textContent = state.carryOn + state.checkedBags;
            
            // Update button states
            updateButtonStates();
        }

        function updateButtonStates() {
            // Adults (minimum 1)
            document.getElementById('adultsDecBtn').disabled = state.adults <= 1;
            document.getElementById('adultsIncBtn').disabled = state.adults >= 100;
            
            // Children (minimum 0)
            document.getElementById('childrenDecBtn').disabled = state.children <= 0;
            document.getElementById('childrenIncBtn').disabled = state.children >= 100;
            
            // Small pets (minimum 0)
            document.getElementById('smallPetsDecBtn').disabled = state.smallPets <= 0;
            document.getElementById('smallPetsIncBtn').disabled = state.smallPets >= 50;
            
            // Large pets (minimum 0)
            document.getElementById('largePetsDecBtn').disabled = state.largePets <= 0;
            document.getElementById('largePetsIncBtn').disabled = state.largePets >= 30;
            
            // Carry-on (minimum 0)
            document.getElementById('carryOnDecBtn').disabled = state.carryOn <= 0;
            document.getElementById('carryOnIncBtn').disabled = state.carryOn >= 100;
            
            // Checked bags (minimum 0)
            document.getElementById('checkedBagsDecBtn').disabled = state.checkedBags <= 0;
            document.getElementById('checkedBagsIncBtn').disabled = state.checkedBags >= 50;
        }

        // Utility functions
        function closeAllMenus() {
            // Close dropdowns
            document.getElementById('fromDropdown').classList.remove('show');
            document.getElementById('toDropdown').classList.remove('show');
            
            // Close calendars
            document.getElementById('departureCalendar').classList.remove('show');
            document.getElementById('returnCalendar').classList.remove('show');
            
            // Close time pickers
            document.getElementById('departureTime').classList.remove('show');
            document.getElementById('returnTime').classList.remove('show');
            
            // Close category menus
            document.getElementById('passengersMenu').classList.remove('show');
            document.getElementById('petsMenu').classList.remove('show');
            document.getElementById('luggageMenu').classList.remove('show');

            if (window.lucide) lucide.createIcons();
        }

        function handleOutsideClick(event) {
            const target = event.target;
            
            // Check if click is outside any dropdown or menu
            if (!target.closest('.dropdown') && !target.closest('.location-input') &&
                !target.closest('.calendar-modal') && !target.closest('.datetime-button') &&
                !target.closest('.time-modal') && !target.closest('.category-menu') && 
                !target.closest('.control-button')) {
                closeAllMenus();
            }
        }

        function updateUI() {
            updateTripTypeUI();
            updateReturnDateTimeVisibility();
            updateLocationUI();
            updateDateTimeUI();
            updateCategoryUI();
            populateDestinations();
            renderMultiLegStack(); // Always render multi-leg stack if needed
        }

        function handleSearch() {

            if (state.tripType === 'multi-leg') {
                // Collect all legs' data
                const multiLegData = state.multiLegs.map(leg => ({
                    fromLocation: leg.fromLocation,
                    toLocation: leg.toLocation,
                    departureDate: leg.departureDate,
                    departureTime: leg.departureTime,
                    adults: leg.adults,
                    children: leg.children,
                    smallPets: leg.smallPets,
                    largePets: leg.largePets,
                    carryOn: leg.carryOn,
                    checkedBags: leg.checkedBags
                }
            ) 
             );
             console.log(multiLegData);
            } else {
                // Collect all the booking data
                const bookingData = {
                    tripType: state.tripType,
                    fromLocation: state.fromLocation,
                    toLocation: state.toLocation,
                    departureDate: state.departureDate,
                    returnDate: state.returnDate,
                    departureTime: state.departureTime,
                    returnTime: state.returnTime,
                    adults: state.adults,
                    children: state.children,
                    smallPets: state.smallPets,
                    largePets: state.largePets,
                    carryOn: state.carryOn,
                    checkedBags: state.checkedBags
                };
                console.log(bookingData);
            }
            if (aircraftMenu) {
                    aircraftMenu.style.display = 'flex';
                    lucide.createIcons(); // Re-render icons if needed
                }
                if (closeAircraftMenuBtn) {
                closeAircraftMenuBtn.addEventListener('click', function() {
                    if (aircraftMenu) {
                        aircraftMenu.style.display = 'none';
                    }
                });
            }

          
            
            if (backToFlightBtn) {
              backToFlightBtn.addEventListener('click', function(e) {
                e.preventDefault();
                contactModalOverlay.classList.remove('show');
                if (aircraftMenu) aircraftMenu.style.display = 'flex';
              });
            }
        

            
        }


        // Fetch airport data for autocomplete
        let airportData = [];
fetch('https://cdn.jsdelivr.net/gh/singh113713131/SSWMKJISSWMKJI_airport/airports.json')
  .then(res => res.json())
  .then(data => {
    airportData = Object.values(data).filter(a => a.city && (a.iata || a.icao));
  });

function createAirportDropdown(inputEl) {
  let dropdown = document.createElement('div');
  dropdown.className = 'airport-autocomplete-dropdown';
  inputEl.parentNode.appendChild(dropdown);
  return dropdown;
}

function setupAirportAutocomplete(inputId, setStateKey) {
  const input = document.getElementById(inputId);
  input.setAttribute('autocomplete', 'off');
  
  // Add click event listener to show dropdown
  input.addEventListener('click', function() {
    let dropdown = input.parentNode.querySelector('.airport-autocomplete-dropdown');
    if (!dropdown) dropdown = createAirportDropdown(input);
    dropdown.innerHTML = '';
    
    // Show all airports when clicked
    let matches = airportData.slice(0, 10);
    matches.forEach(a => {
      let item = document.createElement('div');
      item.className = 'airport-autocomplete-item';
      item.innerHTML = `<div><b>${a.city}</b> <span style='color:#ffae00;'>${a.iata || a.icao}</span><br><span style='font-size:0.9em;color:#aaa;'>${a.name}</span></div><div style='color:#aaa;font-size:0.9em;'>${a.country}</div>`;
      
      // Add both touchstart and click events
      const selectAirport = () => {
        input.value = `${a.city} (${a.iata || a.icao})`;
        state[setStateKey] = a.city;
        dropdown.style.display = 'none';
        updateLocationUI();
        updateCurrentLegFromForm && updateCurrentLegFromForm();
      };
      
      item.addEventListener('touchstart', function(e) {
        e.preventDefault(); // Prevent default touch behavior
        selectAirport();
      });
      
      item.addEventListener('click', function(e) {
        e.preventDefault(); // Prevent default click behavior
        selectAirport();
      });
      
      dropdown.appendChild(item);
    });
    dropdown.style.display = 'block';
  });

  // Keep existing input event listener for filtering
  input.addEventListener('input', function() {
    let val = input.value.trim().toLowerCase();
    let dropdown = input.parentNode.querySelector('.airport-autocomplete-dropdown');
    if (!dropdown) dropdown = createAirportDropdown(input);
    dropdown.innerHTML = '';
    if (!val) { dropdown.style.display = 'none'; return; }
    let matches = airportData.filter(a =>
      a.city.toLowerCase().includes(val) ||
      (a.iata && a.iata.toLowerCase().includes(val)) ||
      (a.icao && a.icao.toLowerCase().includes(val)) ||
      (a.name && a.name.toLowerCase().includes(val))
    ).slice(0, 10);
    if (matches.length === 0) { dropdown.style.display = 'none'; return; }
    matches.forEach(a => {
      let item = document.createElement('div');
      item.className = 'airport-autocomplete-item';
      item.innerHTML = `<div><b>${a.city}</b> <span style='color:#ffae00;'>${a.iata || a.icao}</span><br><span style='font-size:0.9em;color:#aaa;'>${a.name}</span></div><div style='color:#aaa;font-size:0.9em;'>${a.country}</div>`;
      
      // Add both touchstart and click events
      const selectAirport = () => {
        input.value = `${a.city} (${a.iata || a.icao})`;
        state[setStateKey] = a.city;
        dropdown.style.display = 'none';
        updateLocationUI();
        updateCurrentLegFromForm && updateCurrentLegFromForm();
      };
      
      item.addEventListener('touchstart', function(e) {
        e.preventDefault(); // Prevent default touch behavior
        selectAirport();
      });
      
      item.addEventListener('click', function(e) {
        e.preventDefault(); // Prevent default click behavior
        selectAirport();
      });
      
      dropdown.appendChild(item);
    });
    dropdown.style.display = 'block';
  });

  input.addEventListener('blur', function() {
    setTimeout(() => {
      let dropdown = input.parentNode.querySelector('.airport-autocomplete-dropdown');
      if (dropdown) dropdown.style.display = 'none';
    }, 200);
  });
}

document.addEventListener('DOMContentLoaded', function() {
  setupAirportAutocomplete('fromLocationInput', 'fromLocation');
  setupAirportAutocomplete('toLocationInput', 'toLocation');
  lucide.createIcons();
            
            // Re-add other initializations if they were removed
            updateUI();
            populateDestinations();
            document.addEventListener('click', handleOutsideClick);

            // New Menu Logic
  const searchBtn = document.getElementById('searchBtn');
            const contactModalOverlay = document.getElementById('contactModalOverlay');
            const closeContactModalBtn = document.getElementById('closeContactModalBtn');
      
  
});

// WAHEGURU JI: Show contact modal overlay on inquire-btn click
function openContactform() {

   console.log('openContactform');
    var contactModalOverlay = document.getElementById('contactModalOverlay');
    var closeContactModalBtn = document.getElementById('closeContactModalBtn');
    var backToFlightBtn = document.getElementById('backToFlightBtn');
    var aircraftMenu = document.getElementById('aircraftMenu');
    
    
        aircraftMenu.style.display = 'none';
        contactModalOverlay.classList.add('show'); document.body.style.overflow='hidden';

    
  // close when clicking outside the card
  contactModalOverlay.addEventListener('click', function(e){
    if(e.target === contactModalOverlay){ 
      contactModalOverlay.classList.remove('show'); 
      document.body.style.overflow=''; 
    }
  }, { once: true });
if (closeContactModalBtn) {
      closeContactModalBtn.addEventListener('click', function() {
        contactModalOverlay.classList.remove('show'); document.body.style.overflow='';
      });
    }
    if (backToFlightBtn) {
      backToFlightBtn.addEventListener('click', function(e) {
      e.preventDefault();
        contactModalOverlay.classList.remove('show'); document.body.style.overflow='';
        if (aircraftMenu) aircraftMenu.style.display = 'flex';
      });
    }


}

// WAHEGURU JI: Always open contact modal overlay on inquire button click


console.log('W');

 // In your main script, after DOMContentLoaded
 document.addEventListener('DOMContentLoaded', function() {
    var contactForm = document.getElementById('contactForm');
    if (contactForm) {
      contactForm.addEventListener('submit', function(e) {

        e.preventDefault();
        console.log('W'); 
        var templateParams = {
          name: document.getElementById('contactName').value,
          email: document.getElementById('contactEmail').value,
          phone: document.getElementById('countryCode').value + ' ' + document.getElementById('contactPhone').value,
          request: document.getElementById('contactRequest').value,
          trip_type: state.tripType,
          from: state.fromLocation,
          to: state.toLocation,
          departure: state.departureDate + ' ' + state.departureTime.hour + ':' + state.departureTime.minute + ' ' + state.departureTime.period,
          return: state.tripType === 'round-trip' ? (state.returnDate + ' ' + state.returnTime.hour + ':' + state.returnTime.minute + ' ' + state.returnTime.period) : '',
          passengers: state.adults + state.children,
          pets: state.smallPets + state.largePets,
          luggage: state.carryOn + state.checkedBags

        };

        console.log(templateParams);
        emailjs.send('service_8pstr9i', 'template_yuqo9zb', templateParams)
          .then(function(response) {
            alert('Email sent successfully!');
            document.getElementById('contactModalOverlay').style.display = 'none';
          }, function(error) {
            alert('Failed to send email: ' + JSON.stringify(error));
          });
      });
    }
  });

    </script>
</body>
</html>
